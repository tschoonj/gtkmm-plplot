<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gtkmm-PLplot: Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_hack.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gtkmm-PLplot<span id="projectnumber">&#160;3.0</span>
   </div>
   <div id="projectbrief">A scientific plotting library for Gtkmm</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Examples</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#example1">Example 1: Plot data properties and zooming</a></li>
<li class="level1"><a href="#example2">Example 2: Logarithmic axes and box styles</a></li>
<li class="level1"><a href="#example3">Example 3: Adding, removing, showing and hiding plots</a></li>
<li class="level1"><a href="#example4">Example 4: Displaying multiple plots on a single canvas</a></li>
<li class="level1"><a href="#example5">Example 5: Mixing plot lines and symbols plus adding datapoints</a></li>
<li class="level1"><a href="#example6">Example 6: Polar coordinate systems</a></li>
<li class="level1"><a href="#example7">Example 7: a Simple contour plot</a></li>
<li class="level1"><a href="#example8">Example 8: a Shaded contour plot</a></li>
<li class="level1"><a href="#example9">Example 9: a Three-dimensional plot</a></li>
<li class="level1"><a href="#example10">Example 10: use Gtkmm-PLplot from Gtk+</a></li>
<li class="level1"><a href="#example11">Example 11: 2 dimensional plots with errorbars</a></li>
<li class="level1"><a href="#example12">Example 12: Histograms</a></li>
<li class="level1"><a href="#example13">Example 13: Dates and times</a></li>
</ul>
</div>
<div class="textblock"><p>This page contains the code of the tests I have included to demonstrate the capabilities of Gtkmm-PLplot. The code should be quite straightforward and contains some commenting where useful. Every testcase is followed by a screenshot of the corresponding running program.</p>
<h1><a class="anchor" id="example1"></a>
Example 1: Plot data properties and zooming</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2015 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/switch.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/label.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/comboboxtext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/spinbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/colorbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/printsettings.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/pagesetup.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/printoperation.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/filechooserdialog.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef M_PI</span></div>
<div class="line"><span class="preprocessor">#define M_PI (3.14159265358979323846)</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test1 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> plot_data1;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> plot;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line">    Gtk::Label label1;</div>
<div class="line">    Gtk::Label label2;</div>
<div class="line">    Gtk::ColorButton color_combo1;</div>
<div class="line">    Gtk::ColorButton color_combo2;</div>
<div class="line">    Gtk::ComboBoxText linestyle_combo1;</div>
<div class="line">    Gtk::ComboBoxText linestyle_combo2;</div>
<div class="line">    Gtk::Switch show_radio1;</div>
<div class="line">    Gtk::Switch show_radio2;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; linewidth_adj1;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; linewidth_adj2;</div>
<div class="line">    Gtk::SpinButton linewidth_spin1;</div>
<div class="line">    Gtk::SpinButton linewidth_spin2;</div>
<div class="line">    Gtk::Button print_button;</div>
<div class="line">    Gtk::Button saveas_button;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window(std::valarray&lt;double&gt; &amp;x, std::valarray&lt;double&gt; &amp;y,</div>
<div class="line">      Glib::ustring x_title = <span class="stringliteral">&quot;X-axis&quot;</span>, Glib::ustring y_title = <span class="stringliteral">&quot;Y-axis&quot;</span>,</div>
<div class="line">      Glib::ustring plot_title = <span class="stringliteral">&quot;&quot;</span>, Gdk::RGBA color = Gdk::RGBA(<span class="stringliteral">&quot;red&quot;</span>)) :</div>
<div class="line">      plot_data1(x, y, color),</div>
<div class="line">      plot(plot_data1, x_title, y_title, plot_title),</div>
<div class="line">      canvas(plot),</div>
<div class="line">      label1(<span class="stringliteral">&quot;Plot 1&quot;</span>), label2(<span class="stringliteral">&quot;Plot 2&quot;</span>),</div>
<div class="line">      linewidth_adj1(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      linewidth_adj2(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      linewidth_spin1(linewidth_adj1, 0.1, 1.0),</div>
<div class="line">      linewidth_spin2(linewidth_adj2, 0.1, 1.0),</div>
<div class="line">      print_button(<span class="stringliteral">&quot;Print&quot;</span>),</div>
<div class="line">      saveas_button(<span class="stringliteral">&quot;Save as&quot;</span>) {</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//let&#39;s make this more interesting by adding more data</span></div>
<div class="line">      std::valarray&lt;double&gt; x_va(1000), y_va(1000);</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0 ; i &lt; 1000 ; i++) {</div>
<div class="line">        x_va[i] = 8*M_PI*i/999;</div>
<div class="line">      }</div>
<div class="line">      y_va = 2*cos(x_va)-1;</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// Gtk::manage can be used for memory management here...</span></div>
<div class="line">      plot.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a3dc88614d1f2d011ef41b9d9f9c9037f">add_data</a>(*Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(x_va, y_va, Gdk::RGBA(<span class="stringliteral">&quot;blue&quot;</span>), <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ace9488c705a112a307d8aa058a07688a">Gtk::PLplot::LineStyle::LONG_DASH_LONG_GAP</a>, 5.0)));</div>
<div class="line">      plot.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// add some lines</span></div>
<div class="line">      <span class="comment">//plot.add_object(*Gtk::manage(new Gtk::PLplot::PlotObject2DLine(-5, -1, 30, -2)));</span></div>
<div class="line">      plot.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a358862e4d2ded6e36db5bd36958b9fa7">add_object</a>(*Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_line.html">Gtk::PLplot::PlotObject2DLine</a>(30, -2, -5, -1)));</div>
<div class="line">      plot.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a358862e4d2ded6e36db5bd36958b9fa7">add_object</a>(*Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_line.html">Gtk::PLplot::PlotObject2DLine</a>(Gtk::Orientation::HORIZONTAL, -1)));</div>
<div class="line">      plot.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a358862e4d2ded6e36db5bd36958b9fa7">add_object</a>(*Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_line.html">Gtk::PLplot::PlotObject2DLine</a>(Gtk::Orientation::VERTICAL, 12)));</div>
<div class="line">    </div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 1024, height = 580;</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test1&quot;</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_size_request(-1, height);</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height));</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line"> </div>
<div class="line">      show_radio1.set_active(plot_data1.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#ae8c31f0622ebc189d43be0841767a468">is_showing</a>());</div>
<div class="line">      show_radio2.set_active(plot.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#ad2dfeb8c523d76ad35ad6ff83a803207">get_data</a>(1)-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#ae8c31f0622ebc189d43be0841767a468">is_showing</a>());</div>
<div class="line">      show_radio1.property_active().signal_changed().connect([<span class="keyword">this</span>](){</div>
<div class="line">        <span class="keywordflow">if</span> (show_radio1.get_active()) {</div>
<div class="line">          plot_data1.show();</div>
<div class="line">          color_combo1.set_sensitive(true);</div>
<div class="line">          linestyle_combo1.set_sensitive(true);</div>
<div class="line">          linewidth_spin1.set_sensitive(true);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">          <span class="comment">// another way to access our data, though this is really just plot_data1</span></div>
<div class="line">          canvas.get_plot(0)-&gt;get_data(0)-&gt;hide();</div>
<div class="line">          color_combo1.set_sensitive(false);</div>
<div class="line">          linestyle_combo1.set_sensitive(false);</div>
<div class="line">          linewidth_spin1.set_sensitive(false);</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line">      show_radio2.property_active().signal_changed().connect([<span class="keyword">this</span>](){</div>
<div class="line">        <span class="keywordflow">if</span> (show_radio2.get_active()) {</div>
<div class="line">          canvas.get_plot(0)-&gt;get_data(1)-&gt;show();</div>
<div class="line">          color_combo2.set_sensitive(true);</div>
<div class="line">          linestyle_combo2.set_sensitive(true);</div>
<div class="line">          linewidth_spin2.set_sensitive(true);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">          plot.get_data(1)-&gt;hide();</div>
<div class="line">          color_combo2.set_sensitive(false);</div>
<div class="line">          linestyle_combo2.set_sensitive(false);</div>
<div class="line">          linewidth_spin2.set_sensitive(false);</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;continuous&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;long dash long gap&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;long dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;long dash short gap short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;long dash short gap long dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;continuous&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;long dash long gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;long dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;long dash short gap short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;long dash short gap long dash short gap&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      linewidth_spin1.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin2.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin1.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin2.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin1.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin2.set_numeric(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">      color_combo1.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      color_combo2.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      linewidth_spin1.set_halign(Gtk::Align::START);</div>
<div class="line">      linewidth_spin2.set_halign(Gtk::Align::START);</div>
<div class="line">      show_radio1.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      show_radio2.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label1.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      label2.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin1.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin2.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      linestyle_combo1.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      linestyle_combo2.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label1.set_halign(Gtk::Align::END);</div>
<div class="line">      label2.set_halign(Gtk::Align::END);</div>
<div class="line"> </div>
<div class="line">      grid.set_column_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      grid.set_column_spacing(5);</div>
<div class="line">      grid.set_row_spacing(5);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// unlike plot_data1, plot_data2 is a pointer!</span></div>
<div class="line">      <span class="keyword">auto</span> plot_data2 = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> *<span class="keyword">&gt;</span>(plot.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#ad2dfeb8c523d76ad35ad6ff83a803207">get_data</a>(1));</div>
<div class="line"> </div>
<div class="line">      color_combo1.set_rgba(plot_data1.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a618d7d314b3e098d154ac8869b3e9336">get_color</a>());</div>
<div class="line">      color_combo2.set_rgba(plot_data2-&gt;get_color());</div>
<div class="line"> </div>
<div class="line">      color_combo1.set_use_alpha(<span class="keyword">true</span>);</div>
<div class="line">      color_combo2.set_use_alpha(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">      linestyle_combo1.set_active(plot_data1.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#abad9722e518e8139f0b39a95ef12da9f">get_line_style</a>()-1);</div>
<div class="line">      linestyle_combo2.set_active(plot_data2-&gt;get_line_style()-1);</div>
<div class="line"> </div>
<div class="line">      color_combo1.signal_color_set().connect([<span class="keyword">this</span>](){plot_data1.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a77d82e4db29cf9162f135ff81bf07726">set_color</a>(color_combo1.get_rgba());});</div>
<div class="line">      color_combo2.signal_color_set().connect([<span class="keyword">this</span>, plot_data2](){plot_data2-&gt;set_color(color_combo2.get_rgba());});</div>
<div class="line"> </div>
<div class="line">      linestyle_combo1.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a7b78c1f087f6fec5ee7d1e18a20764c8">signal_changed</a>().connect([<span class="keyword">this</span>](){plot_data1.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#ae274585d14aa7289898ac8686cc79ab4">set_line_style</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636">Gtk::PLplot::LineStyle</a><span class="keyword">&gt;</span>(linestyle_combo1.get_active_row_number()+1));});</div>
<div class="line">      linestyle_combo2.signal_changed().connect([<span class="keyword">this</span>, plot_data2](){plot_data2-&gt;set_line_style(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636">Gtk::PLplot::LineStyle</a><span class="keyword">&gt;</span>(linestyle_combo2.get_active_row_number()+1));});</div>
<div class="line"> </div>
<div class="line">      linewidth_spin1.set_value(plot_data1.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a4f86c7d7e19e77519d9e4b374dd5de9f">get_line_width</a>());</div>
<div class="line">      linewidth_spin2.set_value(plot_data2-&gt;get_line_width());</div>
<div class="line"> </div>
<div class="line">      linewidth_spin1.signal_value_changed().connect([<span class="keyword">this</span>](){plot_data1.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#ab746c452b98fa55d70438438f0cec053">set_line_width</a>(linewidth_spin1.get_value());});</div>
<div class="line">      linewidth_spin2.signal_value_changed().connect([<span class="keyword">this</span>, plot_data2](){plot_data2-&gt;set_line_width(linewidth_spin2.get_value());});</div>
<div class="line"> </div>
<div class="line">      grid.attach(label1, 0, 0, 1, 1);</div>
<div class="line">      grid.attach(show_radio1, 1, 0, 1, 1);</div>
<div class="line">      grid.attach(color_combo1, 2, 0, 1, 1);</div>
<div class="line">      grid.attach(linestyle_combo1, 3, 0, 1, 1);</div>
<div class="line">      grid.attach(linewidth_spin1, 4, 0, 1, 1);</div>
<div class="line">      grid.attach(label2, 0, 1, 1, 1);</div>
<div class="line">      grid.attach(show_radio2, 1, 1, 1, 1);</div>
<div class="line">      grid.attach(color_combo2, 2, 1, 1, 1);</div>
<div class="line">      grid.attach(linestyle_combo2, 3, 1, 1, 1);</div>
<div class="line">      grid.attach(linewidth_spin2, 4, 1, 1, 1);</div>
<div class="line">      grid.attach(geometry, 0, 2, 5, 1);</div>
<div class="line"> </div>
<div class="line">      Gtk::Grid *button_grid = Gtk::manage(<span class="keyword">new</span> Gtk::Grid());</div>
<div class="line">      button_grid-&gt;set_column_homogeneous(<span class="keyword">true</span>);</div>
<div class="line">      button_grid-&gt;set_column_spacing(5);</div>
<div class="line">      button_grid-&gt;set_row_spacing(5);</div>
<div class="line">      button_grid-&gt;attach(print_button, 0, 0, 1, 1);</div>
<div class="line">      button_grid-&gt;attach(saveas_button, 1, 0, 1, 1);</div>
<div class="line">      grid.attach(*button_grid, 0, 3, 5, 1);</div>
<div class="line">      print_button.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      saveas_button.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      print_button.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      saveas_button.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      print_button.set_halign(Gtk::Align::END);</div>
<div class="line">      saveas_button.set_halign(Gtk::Align::START);</div>
<div class="line"> </div>
<div class="line">      print_button.signal_clicked().connect(sigc::mem_fun(*<span class="keyword">this</span>, &amp;Window::on_print_button_clicked));</div>
<div class="line">      saveas_button.signal_clicked().connect(sigc::mem_fun(*<span class="keyword">this</span>, &amp;Window::on_saveas_button_clicked));</div>
<div class="line"> </div>
<div class="line">      grid.set_margin(10);</div>
<div class="line">      set_child(grid);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> on_draw_page(<span class="keyword">const</span> Glib::RefPtr&lt;Gtk::PrintContext&gt;&amp; context, <span class="keywordtype">int</span> page_nr) {</div>
<div class="line">      Cairo::RefPtr&lt; ::Cairo::Context&gt; cr = context-&gt;get_cairo_context();</div>
<div class="line"> </div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a98711debef40b7b9a8a086afd02736b8">draw_plot</a>(cr, 842, 595);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> on_print_button_clicked() {</div>
<div class="line">      <span class="comment">//print settings</span></div>
<div class="line">      Glib::RefPtr&lt;Gtk::PrintSettings&gt; print_settings = Gtk::PrintSettings::create();</div>
<div class="line">      print_settings-&gt;set_orientation(Gtk::PageOrientation::LANDSCAPE);</div>
<div class="line">      print_settings-&gt;set_paper_size(Gtk::PaperSize(Gtk::PAPER_NAME_A4));</div>
<div class="line"> </div>
<div class="line">      Glib::RefPtr&lt;Gtk::PageSetup&gt; page_setup = Gtk::PageSetup::create();</div>
<div class="line">      page_setup-&gt;set_orientation(Gtk::PageOrientation::LANDSCAPE);</div>
<div class="line">      page_setup-&gt;set_paper_size_and_default_margins(Gtk::PaperSize(Gtk::PAPER_NAME_A4));</div>
<div class="line"> </div>
<div class="line">      Glib::RefPtr&lt;Gtk::PrintOperation&gt; operation = Gtk::PrintOperation::create();</div>
<div class="line">      operation-&gt;set_print_settings(print_settings);</div>
<div class="line">      operation-&gt;set_default_page_setup(page_setup);</div>
<div class="line">      operation-&gt;set_show_progress(<span class="keyword">true</span>);</div>
<div class="line">      operation-&gt;set_track_print_status(<span class="keyword">true</span>);</div>
<div class="line">      operation-&gt;set_use_full_page(<span class="keyword">true</span>);</div>
<div class="line">      operation-&gt;signal_draw_page().connect(sigc::mem_fun(*<span class="keyword">this</span>, &amp;Window::on_draw_page));</div>
<div class="line">      operation-&gt;set_n_pages(1);</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">if</span> (Gtk::PrintOperation::Result::APPLY != operation-&gt;run(Gtk::PrintOperation::Action::PRINT_DIALOG, *<span class="keyword">this</span>)) {</div>
<div class="line">        <span class="comment">//error handling</span></div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> on_saveas_button_clicked() {</div>
<div class="line">      <span class="keyword">auto</span> dialog = <span class="keyword">new</span> Gtk::FileChooserDialog(<span class="stringliteral">&quot;Save as&quot;</span>, Gtk::FileChooser::Action::SAVE);</div>
<div class="line">      dialog-&gt;set_transient_for(*<span class="keyword">this</span>);</div>
<div class="line">      dialog-&gt;set_modal(<span class="keyword">true</span>);</div>
<div class="line">      dialog-&gt;signal_response().connect(sigc::bind(</div>
<div class="line">        sigc::mem_fun(*<span class="keyword">this</span>, &amp;Window::on_file_dialog_response), dialog));</div>
<div class="line"> </div>
<div class="line">      dialog-&gt;add_button(<span class="stringliteral">&quot;_Cancel&quot;</span>, Gtk::ResponseType::CANCEL);</div>
<div class="line">      dialog-&gt;add_button(<span class="stringliteral">&quot;_Select&quot;</span>, Gtk::ResponseType::OK);</div>
<div class="line"> </div>
<div class="line">      Glib::RefPtr&lt;Gtk::FileFilter&gt; filter_eps = Gtk::FileFilter::create();</div>
<div class="line">      filter_eps-&gt;add_pattern(<span class="stringliteral">&quot;*.eps&quot;</span>);</div>
<div class="line">      filter_eps-&gt;set_name(<span class="stringliteral">&quot;EPS&quot;</span>);</div>
<div class="line">      dialog-&gt;add_filter(filter_eps);</div>
<div class="line">      Glib::RefPtr&lt;Gtk::FileFilter&gt; filter_png = Gtk::FileFilter::create();</div>
<div class="line">      filter_png-&gt;add_pattern(<span class="stringliteral">&quot;*.png&quot;</span>);</div>
<div class="line">      filter_png-&gt;set_name(<span class="stringliteral">&quot;PNG&quot;</span>);</div>
<div class="line">      dialog-&gt;add_filter(filter_png);</div>
<div class="line">      Glib::RefPtr&lt;Gtk::FileFilter&gt; filter_pdf = Gtk::FileFilter::create();</div>
<div class="line">      filter_pdf-&gt;add_pattern(<span class="stringliteral">&quot;*.pdf&quot;</span>);</div>
<div class="line">      filter_pdf-&gt;set_name(<span class="stringliteral">&quot;PDF&quot;</span>);</div>
<div class="line">      dialog-&gt;add_filter(filter_pdf);</div>
<div class="line">     </div>
<div class="line">      dialog-&gt;show();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> on_file_dialog_response(<span class="keywordtype">int</span> response_id, Gtk::FileChooserDialog *dialog) {</div>
<div class="line">      <span class="keywordflow">if</span> (response_id != Gtk::ResponseType::OK) {</div>
<div class="line">        <span class="keyword">delete</span> dialog;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      std::string filename                          = dialog-&gt;get_file()-&gt;get_path();</div>
<div class="line">      Glib::RefPtr&lt;Gtk::FileFilter&gt; filter_selected = dialog-&gt;get_filter();</div>
<div class="line">      <span class="keywordflow">if</span> (filter_selected-&gt;get_name() == <span class="stringliteral">&quot;EPS&quot;</span>) {</div>
<div class="line">        <span class="keywordflow">if</span> (filename.compare(filename.length()-4, std::string::npos, <span class="stringliteral">&quot;.eps&quot;</span>) != 0)</div>
<div class="line">                    filename += <span class="stringliteral">&quot;.eps&quot;</span>;</div>
<div class="line"> </div>
<div class="line">          Cairo::RefPtr&lt;Cairo::PsSurface&gt; surface = Cairo::PsSurface::create(filename, 842, 595);</div>
<div class="line">          surface-&gt;set_eps(<span class="keyword">true</span>);</div>
<div class="line">          Cairo::RefPtr&lt;Cairo::Context&gt; cr = Cairo::Context::create(surface);</div>
<div class="line"> </div>
<div class="line">          canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a98711debef40b7b9a8a086afd02736b8">draw_plot</a>(cr, 842, 595);</div>
<div class="line"> </div>
<div class="line">          cr-&gt;show_page();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (filter_selected-&gt;get_name() == <span class="stringliteral">&quot;PNG&quot;</span>) {</div>
<div class="line">          <span class="keywordflow">if</span> (filename.compare(filename.length()-4, std::string::npos, <span class="stringliteral">&quot;.png&quot;</span>) != 0)</div>
<div class="line">                    filename += <span class="stringliteral">&quot;.png&quot;</span>;</div>
<div class="line"> </div>
<div class="line">          Cairo::RefPtr&lt;Cairo::ImageSurface&gt; surface = Cairo::ImageSurface::create(Cairo::ImageSurface::Format::ARGB32, 842, 595);</div>
<div class="line">          Cairo::RefPtr&lt;Cairo::Context&gt; cr = Cairo::Context::create(surface);</div>
<div class="line"> </div>
<div class="line">          canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a98711debef40b7b9a8a086afd02736b8">draw_plot</a>(cr, 842, 595);</div>
<div class="line"> </div>
<div class="line">          surface-&gt;write_to_png(filename);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (filter_selected-&gt;get_name() == <span class="stringliteral">&quot;PDF&quot;</span>) {</div>
<div class="line">          <span class="keywordflow">if</span> (filename.compare(filename.length()-4, std::string::npos, <span class="stringliteral">&quot;.pdf&quot;</span>) != 0)</div>
<div class="line">                    filename += <span class="stringliteral">&quot;.pdf&quot;</span>;</div>
<div class="line"> </div>
<div class="line">          Cairo::RefPtr&lt;Cairo::PdfSurface&gt; surface = Cairo::PdfSurface::create(filename, 842, 595);</div>
<div class="line">          Cairo::RefPtr&lt;Cairo::Context&gt; cr = Cairo::Context::create(surface);</div>
<div class="line"> </div>
<div class="line">          canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a98711debef40b7b9a8a086afd02736b8">draw_plot</a>(cr, 842, 595);</div>
<div class="line"> </div>
<div class="line">          cr-&gt;show_page();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">delete</span> dialog;</div>
<div class="line">      }</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test1&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test1&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//valarrays are underestimated IMHO</span></div>
<div class="line">  std::valarray&lt;double&gt; x_va(1000), y_va(1000);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0 ; i &lt; 1000 ; i++) {</div>
<div class="line">    x_va[i] = 4*M_PI*i/999;</div>
<div class="line">  }</div>
<div class="line">  y_va = sin(x_va);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test1::Window&gt;(argc, argv, x_va, y_va, <span class="stringliteral">&quot;x&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_canvas_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a></div><div class="ttdoc">Principal plotting widget.</div><div class="ttdef"><b>Definition</b> canvas.h:53</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_canvas_html_a98711debef40b7b9a8a086afd02736b8"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_canvas.html#a98711debef40b7b9a8a086afd02736b8">Gtk::PLplot::Canvas::draw_plot</a></div><div class="ttdeci">void draw_plot(const Cairo::RefPtr&lt; Cairo::Context &gt; &amp;cr, int width, int height)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_legend_html_a4e880097956703fa3cbbfa03819d81a9"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">Gtk::PLplot::Legend::hide_legend</a></div><div class="ttdeci">void hide_legend()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a></div><div class="ttdoc">a class for two-dimensional plots</div><div class="ttdef"><b>Definition</b> plot2d.h:43</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html_a358862e4d2ded6e36db5bd36958b9fa7"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a358862e4d2ded6e36db5bd36958b9fa7">Gtk::PLplot::Plot2D::add_object</a></div><div class="ttdeci">virtual void add_object(PlotObject2D &amp;object)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html_a3dc88614d1f2d011ef41b9d9f9c9037f"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a3dc88614d1f2d011ef41b9d9f9c9037f">Gtk::PLplot::Plot2D::add_data</a></div><div class="ttdeci">virtual void add_data(PlotData2D &amp;data)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data2_d_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a></div><div class="ttdoc">a class that will hold a single dataset and its properties for a Plot2D plot</div><div class="ttdef"><b>Definition</b> plotdata2d.h:42</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_html_a7b78c1f087f6fec5ee7d1e18a20764c8"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a7b78c1f087f6fec5ee7d1e18a20764c8">Gtk::PLplot::PlotData::signal_changed</a></div><div class="ttdeci">sigc::signal&lt; void(void)&gt; signal_changed()</div><div class="ttdef"><b>Definition</b> plotdata.h:103</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_html_ae8c31f0622ebc189d43be0841767a468"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data.html#ae8c31f0622ebc189d43be0841767a468">Gtk::PLplot::PlotData::is_showing</a></div><div class="ttdeci">bool is_showing() const</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_line_html_a4f86c7d7e19e77519d9e4b374dd5de9f"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a4f86c7d7e19e77519d9e4b374dd5de9f">Gtk::PLplot::PlotDataLine::get_line_width</a></div><div class="ttdeci">double get_line_width()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_line_html_a618d7d314b3e098d154ac8869b3e9336"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a618d7d314b3e098d154ac8869b3e9336">Gtk::PLplot::PlotDataLine::get_color</a></div><div class="ttdeci">Gdk::RGBA get_color()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_line_html_a77d82e4db29cf9162f135ff81bf07726"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a77d82e4db29cf9162f135ff81bf07726">Gtk::PLplot::PlotDataLine::set_color</a></div><div class="ttdeci">void set_color(Gdk::RGBA color)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_line_html_ab746c452b98fa55d70438438f0cec053"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#ab746c452b98fa55d70438438f0cec053">Gtk::PLplot::PlotDataLine::set_line_width</a></div><div class="ttdeci">void set_line_width(double line_width)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_line_html_abad9722e518e8139f0b39a95ef12da9f"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#abad9722e518e8139f0b39a95ef12da9f">Gtk::PLplot::PlotDataLine::get_line_style</a></div><div class="ttdeci">LineStyle get_line_style()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_line_html_ae274585d14aa7289898ac8686cc79ab4"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#ae274585d14aa7289898ac8686cc79ab4">Gtk::PLplot::PlotDataLine::set_line_style</a></div><div class="ttdeci">void set_line_style(LineStyle line_style)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_html_ad2dfeb8c523d76ad35ad6ff83a803207"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot.html#ad2dfeb8c523d76ad35ad6ff83a803207">Gtk::PLplot::Plot::get_data</a></div><div class="ttdeci">virtual PlotData * get_data(unsigned int data_index=0) final</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_object2_d_line_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_line.html">Gtk::PLplot::PlotObject2DLine</a></div><div class="ttdoc">Line object for 2D plots.</div><div class="ttdef"><b>Definition</b> plotobject2dline.h:31</div></div>
<div class="ttc" id="agtkmm-plplot_8h_html"><div class="ttname"><a href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a></div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_af906a181e6250225210ce29c07f58636"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636">Gtk::PLplot::LineStyle</a></div><div class="ttdeci">LineStyle</div><div class="ttdef"><b>Definition</b> enums.h:27</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_af906a181e6250225210ce29c07f58636ace9488c705a112a307d8aa058a07688a"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ace9488c705a112a307d8aa058a07688a">Gtk::PLplot::LONG_DASH_LONG_GAP</a></div><div class="ttdeci">@ LONG_DASH_LONG_GAP</div><div class="ttdoc">a line consisting of alternating long dashes and long gaps</div><div class="ttdef"><b>Definition</b> enums.h:31</div></div>
<div class="ttc" id="anamespace_gtk_html"><div class="ttname"><a href="namespace_gtk.html">Gtk</a></div></div>
</div><!-- fragment --> <div class="image">
<img src="test1.png" alt=""/>
<div class="caption">
Example 1</div></div>
 <h1><a class="anchor" id="example2"></a>
Example 2: Logarithmic axes and box styles</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2015 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/colorbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/spinbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/label.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/switch.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/comboboxtext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define START_TEXT &quot;Fe-Kα&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test2 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line">    Gtk::Label x_log_label;</div>
<div class="line">    Gtk::Label x_box_label;</div>
<div class="line">    Gtk::Label y_log_label;</div>
<div class="line">    Gtk::Label y_box_label;</div>
<div class="line">    Gtk::Label box_label;</div>
<div class="line">    Gtk::Switch x_log_switch;</div>
<div class="line">    Gtk::Switch y_log_switch;</div>
<div class="line">    Gtk::ComboBoxText box_combo;</div>
<div class="line">    Gtk::Label legend_label;</div>
<div class="line">    Gtk::Switch legend_switch;</div>
<div class="line">    Gtk::Label corner_label;</div>
<div class="line">    Gtk::ComboBoxText corner_combo;</div>
<div class="line">    Gtk::Label text_label;</div>
<div class="line">    Gtk::Entry text_entry;</div>
<div class="line">    Gtk::Label text_color_label;</div>
<div class="line">    Gtk::ColorButton text_color_button;</div>
<div class="line">    Gtk::Label text_justification_label;</div>
<div class="line">    Gtk::SpinButton text_justification_spin_button;</div>
<div class="line">    Gtk::Label text_scale_factor_label;</div>
<div class="line">    Gtk::SpinButton text_scale_factor_spin_button;</div>
<div class="line">    Gtk::Label text_orientation_label;</div>
<div class="line">    Gtk::Switch text_orientation_switch;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> plot_data1;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_text.html">Gtk::PLplot::PlotObject2DText</a> plot_text2d;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_line.html">Gtk::PLplot::PlotObject2DLine</a> plot_line2d;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window(std::vector&lt;double&gt; &amp;x,</div>
<div class="line">           std::vector&lt;double&gt; &amp;y1,</div>
<div class="line">           std::vector&lt;double&gt; &amp;y2,</div>
<div class="line">           std::vector&lt;double&gt; &amp;y3,</div>
<div class="line">           std::vector&lt;double&gt; &amp;y4,</div>
<div class="line">           Glib::ustring x_title,</div>
<div class="line">           Glib::ustring y_title,</div>
<div class="line">           Glib::ustring plot_title) :</div>
<div class="line">           canvas(),</div>
<div class="line">           x_log_label(<span class="stringliteral">&quot;X-axis logarithmic&quot;</span>),</div>
<div class="line">           y_log_label(<span class="stringliteral">&quot;Y-axis logarithmic&quot;</span>),</div>
<div class="line">           box_label(<span class="stringliteral">&quot;Box options&quot;</span>),</div>
<div class="line">           legend_label(<span class="stringliteral">&quot;Show legend&quot;</span>),</div>
<div class="line">           corner_label(<span class="stringliteral">&quot;Legend corner position&quot;</span>),</div>
<div class="line">           text_label(<span class="stringliteral">&quot;Text&quot;</span>),</div>
<div class="line">           text_entry(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::EntryBuffer::create(START_TEXT)),</div>
<div class="line">           text_color_label(<span class="stringliteral">&quot;Text color&quot;</span>),</div>
<div class="line">           text_color_button(Gdk::RGBA(<span class="stringliteral">&quot;red&quot;</span>)),</div>
<div class="line">           text_justification_label(<span class="stringliteral">&quot;Text justification&quot;</span>),</div>
<div class="line">           text_justification_spin_button(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(0.5, 0.0, 1.0, 0.1, 0.2), 0.0, 2),</div>
<div class="line">           text_scale_factor_label(<span class="stringliteral">&quot;Text scale factor&quot;</span>),</div>
<div class="line">           text_scale_factor_spin_button(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 0.2), 0.0, 2),</div>
<div class="line">           text_orientation_label(<span class="stringliteral">&quot;Text vertical?&quot;</span>),</div>
<div class="line">           plot_data1(x, y1, Gdk::RGBA(<span class="stringliteral">&quot;red&quot;</span>)),</div>
<div class="line">           plot_text2d(START_TEXT, 6.4039 + 0.3, 1E5, Gdk::RGBA(<span class="stringliteral">&quot;red&quot;</span>)),</div>
<div class="line">           plot_line2d(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Orientation::VERTICAL, 6.4039, Gdk::RGBA(<span class="stringliteral">&quot;purple&quot;</span>), <a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::PLplot::LineStyle::LONG_DASH_LONG_GAP, 3.0)</div>
<div class="line">      </div>
<div class="line">      {</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// The first dataset is a class member variable,</span></div>
<div class="line">        <span class="comment">// meaning that it will be destroyed along with</span></div>
<div class="line">        <span class="comment">// the Window when it is closed. It is is constructed in the</span></div>
<div class="line">        <span class="comment">// constructor initialization list.</span></div>
<div class="line">        <span class="comment">// Next, construct a plot with this dataset (mandatory).</span></div>
<div class="line">        <span class="comment">// Here I am using a managed pointer, but a class member variable would</span></div>
<div class="line">        <span class="comment">// in this case have been equally good. The fact that it is managed</span></div>
<div class="line">        <span class="comment">// means that we will not have to delete it when the canvas that will</span></div>
<div class="line">        <span class="comment">// own it gets destroyed.</span></div>
<div class="line">        <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *plot = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a>(plot_data1, x_title, y_title, plot_title));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Additional datasets may be added using add_data</span></div>
<div class="line">        <span class="comment">// Again, I will be using managed pointers here, but class member</span></div>
<div class="line">        <span class="comment">// variables would have worked out just as well in this case.</span></div>
<div class="line">        <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> *plot_data2 = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(x, y2, Gdk::RGBA(<span class="stringliteral">&quot;blue&quot;</span>)));</div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a3dc88614d1f2d011ef41b9d9f9c9037f">add_data</a>(*plot_data2);</div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a3dc88614d1f2d011ef41b9d9f9c9037f">add_data</a>(*Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(x, y3, Gdk::RGBA(<span class="stringliteral">&quot;Blue Violet&quot;</span>))));</div>
<div class="line">        <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> *plot_data3 = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> *<span class="keyword">&gt;</span>(plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#ad2dfeb8c523d76ad35ad6ff83a803207">get_data</a>(2));</div>
<div class="line">        <span class="comment">// This next line creates and adds a dataset. However, the memory will</span></div>
<div class="line">        <span class="comment">// not be managed by Gtkmm-PLplot!!!</span></div>
<div class="line">        <span class="comment">// DO NOT DO THIS as it creates a memory leak unless handled for example</span></div>
<div class="line">        <span class="comment">// in on_delete_event or something like that...</span></div>
<div class="line">        <span class="comment">// Alternatively, plot_data3 could be turned into a class member variable,</span></div>
<div class="line">        <span class="comment">// and could then be deleted in the destructor...</span></div>
<div class="line">        <span class="comment">// So in this example we are naughty and create intentionally a memory leak...</span></div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a3dc88614d1f2d011ef41b9d9f9c9037f">add_data</a>(*<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(x, y4, Gdk::RGBA(<span class="stringliteral">&quot;Green&quot;</span>)));</div>
<div class="line">        <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> *plot_data4 = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> *<span class="keyword">&gt;</span>(plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#ad2dfeb8c523d76ad35ad6ff83a803207">get_data</a>(3));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// add our text object</span></div>
<div class="line">        <span class="comment">//plot_text2d.set_justification(0.5);</span></div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a358862e4d2ded6e36db5bd36958b9fa7">add_object</a>(plot_text2d);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// and the vertical line</span></div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a358862e4d2ded6e36db5bd36958b9fa7">add_object</a>(plot_line2d);</div>
<div class="line"> </div>
<div class="line">        canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot);</div>
<div class="line"> </div>
<div class="line">        plot_data1.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a4db9521f9ceccb3041fd7fc7b84360c4">set_name</a>(<span class="stringliteral">&quot;1 interaction&quot;</span>);</div>
<div class="line">        plot_data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a4db9521f9ceccb3041fd7fc7b84360c4">set_name</a>(<span class="stringliteral">&quot;2 interactions&quot;</span>);</div>
<div class="line">        plot_data3-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a4db9521f9ceccb3041fd7fc7b84360c4">set_name</a>(<span class="stringliteral">&quot;3 interactions&quot;</span>);</div>
<div class="line">        plot_data4-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a4db9521f9ceccb3041fd7fc7b84360c4">set_name</a>(<span class="stringliteral">&quot;4 interactions&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#ad181feac158341e475ad42ec6904ec8f">set_axis_logarithmic_y</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">int</span> width = 1600, height = 1024;</div>
<div class="line">        set_default_size(width, height);</div>
<div class="line">        set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test2&quot;</span>);</div>
<div class="line">        canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">        canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">        canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">        Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height), <span class="keyword">false</span>);</div>
<div class="line">        geometry.set_child(canvas);</div>
<div class="line"> </div>
<div class="line">        x_log_switch.set_active(plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a68b5969bc031c6bd5e40614cedde95ba">get_axis_logarithmic_x</a>());</div>
<div class="line">        y_log_switch.set_active(plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a6fda73a8c59f2fface7a815aa84f4ab1">get_axis_logarithmic_y</a>());</div>
<div class="line">        x_log_switch.property_active().signal_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">          <span class="keywordflow">if</span> (x_log_switch.get_active()) {</div>
<div class="line">            plot-&gt;set_axis_logarithmic_x(true);</div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">else</span> {</div>
<div class="line">            plot-&gt;set_axis_logarithmic_x(false);</div>
<div class="line">          }</div>
<div class="line">        });</div>
<div class="line">        legend_switch.set_active(plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a830847fc0e9ee76a952a4a3c6cf0e329">is_showing_legend</a>());</div>
<div class="line">        legend_switch.property_active().signal_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">          <span class="keywordflow">if</span> (legend_switch.get_active()) {</div>
<div class="line">            plot-&gt;show_legend();</div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">else</span> {</div>
<div class="line">            plot-&gt;hide_legend();</div>
<div class="line">          }</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">        box_combo.append(<span class="stringliteral">&quot;No box, no ticks, no labels, no axes&quot;</span>);</div>
<div class="line">        box_combo.append(<span class="stringliteral">&quot;Box only&quot;</span>);</div>
<div class="line">        box_combo.append(<span class="stringliteral">&quot;Box, ticks and tick labels&quot;</span>);</div>
<div class="line">        box_combo.append(<span class="stringliteral">&quot;Box, ticks, tick labels, and main axes&quot;</span>);</div>
<div class="line">        box_combo.append(<span class="stringliteral">&quot;Box, ticks, tick labels, main axes and major tick grid&quot;</span>);</div>
<div class="line">        box_combo.append(<span class="stringliteral">&quot;Box, ticks, tick labels, main axes and major and minor tick grid&quot;</span>);</div>
<div class="line">        box_combo.signal_changed().connect(</div>
<div class="line">          [<span class="keyword">this</span>, plot](){</div>
<div class="line">            plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a51d2d4898bec095335a9d6390c07f8b3">set_box_style</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#ac57ff669ab5a910c38ec29c4d90bf699">Gtk::PLplot::BoxStyle</a><span class="keyword">&gt;</span>(</div>
<div class="line">              box_combo.get_active_row_number() - 2</div>
<div class="line">            ));</div>
<div class="line">          }</div>
<div class="line">        );</div>
<div class="line">        box_combo.set_active(plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a99251ff0b9d913603d59f46cee07e059">get_box_style</a>() + 2);</div>
<div class="line"> </div>
<div class="line">        corner_combo.append(<span class="stringliteral">&quot;Top-right&quot;</span>);</div>
<div class="line">        corner_combo.append(<span class="stringliteral">&quot;Bottom-right&quot;</span>);</div>
<div class="line">        corner_combo.append(<span class="stringliteral">&quot;Top-left&quot;</span>);</div>
<div class="line">        corner_combo.append(<span class="stringliteral">&quot;Bottom-left&quot;</span>);</div>
<div class="line">        corner_combo.signal_changed().connect(</div>
<div class="line">          [<span class="keyword">this</span>, plot](){</div>
<div class="line">            plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#ab41300b189dc03253f60a3dff7f29401">set_legend_corner_position</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#a82b6f72ad8e7ddf16073e3baa63bde31">Gtk::PLplot::LegendCornerPosition</a><span class="keyword">&gt;</span>(</div>
<div class="line">              corner_combo.get_active_row_number()</div>
<div class="line">            ));</div>
<div class="line">          }</div>
<div class="line">        );</div>
<div class="line">        corner_combo.set_active(plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#aa1abc684732b5ad9e36931a98cb1f76d">get_legend_corner_position</a>());</div>
<div class="line"> </div>
<div class="line">        y_log_switch.property_active().signal_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">          <span class="keywordflow">if</span> (y_log_switch.get_active()) {</div>
<div class="line">            plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#ad181feac158341e475ad42ec6904ec8f">set_axis_logarithmic_y</a>(<span class="keyword">true</span>);</div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">else</span> {</div>
<div class="line">            plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#ad181feac158341e475ad42ec6904ec8f">set_axis_logarithmic_y</a>(<span class="keyword">false</span>);</div>
<div class="line">          }</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">        text_entry.signal_changed().connect([<span class="keyword">this</span>](){</div>
<div class="line">            plot_text2d.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_text.html#a23e2c77c264b59bff3787b0436e190c5">set_text</a>(text_entry.get_text());        </div>
<div class="line">        });</div>
<div class="line">        text_color_button.signal_color_set().connect([<span class="keyword">this</span>](){</div>
<div class="line">            plot_text2d.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_object2_d.html#abb97af98084d4cfcb0d7ecc22fad658a">set_color</a>(text_color_button.get_rgba());        </div>
<div class="line">        });</div>
<div class="line">        text_justification_spin_button.signal_value_changed().connect([<span class="keyword">this</span>](){</div>
<div class="line">            plot_text2d.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_text.html#a3925c8cdc8eade27e440e5c1ff87a7d6">set_justification</a>(text_justification_spin_button.get_value());</div>
<div class="line">        });</div>
<div class="line">        text_scale_factor_spin_button.signal_value_changed().connect([<span class="keyword">this</span>](){</div>
<div class="line">            plot_text2d.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_text.html#a181ffd5e384591da6a7cbdc32a0201d3">set_scale_factor</a>(text_scale_factor_spin_button.get_value());</div>
<div class="line">        });</div>
<div class="line">        text_orientation_switch.property_active().signal_changed().connect([<span class="keyword">this</span>](){</div>
<div class="line">          <span class="keywordflow">if</span> (text_orientation_switch.get_active()) {</div>
<div class="line">        plot_text2d.set_orientation(Gtk::Orientation::VERTICAL);</div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">else</span> {</div>
<div class="line">        plot_text2d.set_orientation(Gtk::Orientation::HORIZONTAL);</div>
<div class="line">          }</div>
<div class="line">        });</div>
<div class="line">        text_orientation_switch.set_active(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">        x_log_label.set_halign(Gtk::Align::END);</div>
<div class="line">        y_log_label.set_halign(Gtk::Align::END);</div>
<div class="line">        box_label.set_halign(Gtk::Align::END);</div>
<div class="line">        corner_label.set_halign(Gtk::Align::END);</div>
<div class="line">        legend_label.set_halign(Gtk::Align::END);</div>
<div class="line">        x_log_switch.set_halign(Gtk::Align::START);</div>
<div class="line">        y_log_switch.set_halign(Gtk::Align::START);</div>
<div class="line">        box_combo.set_halign(Gtk::Align::START);</div>
<div class="line">        corner_combo.set_halign(Gtk::Align::START);</div>
<div class="line">        legend_switch.set_halign(Gtk::Align::START);</div>
<div class="line"> </div>
<div class="line">        text_label.set_halign(Gtk::Align::END);</div>
<div class="line">        text_entry.set_halign(Gtk::Align::START);</div>
<div class="line">        text_color_label.set_halign(Gtk::Align::END);</div>
<div class="line">        text_color_button.set_halign(Gtk::Align::START);</div>
<div class="line">        text_justification_label.set_halign(Gtk::Align::END);</div>
<div class="line">        text_justification_spin_button.set_halign(Gtk::Align::START);</div>
<div class="line">        text_scale_factor_label.set_halign(Gtk::Align::END);</div>
<div class="line">        text_scale_factor_spin_button.set_halign(Gtk::Align::START);</div>
<div class="line">        text_orientation_label.set_halign(Gtk::Align::END);</div>
<div class="line">        text_orientation_switch.set_halign(Gtk::Align::START);</div>
<div class="line"> </div>
<div class="line">        grid.attach(x_log_label, 0, 0, 1, 1);</div>
<div class="line">        grid.attach(y_log_label, 0, 1, 1, 1);</div>
<div class="line">        grid.attach(legend_label, 0, 2, 1, 1);</div>
<div class="line">        grid.attach(x_log_switch, 1, 0, 1, 1);</div>
<div class="line">        grid.attach(y_log_switch, 1, 1, 1, 1);</div>
<div class="line">        grid.attach(legend_switch, 1, 2, 1, 1);</div>
<div class="line">        grid.attach(corner_label, 0, 3, 1, 1);</div>
<div class="line">        grid.attach(corner_combo, 1, 3, 1, 1);</div>
<div class="line">        grid.attach(box_label, 0, 4, 1, 1);</div>
<div class="line">        grid.attach(box_combo, 1, 4, 1, 1);</div>
<div class="line"> </div>
<div class="line">        grid.attach(text_label, 2, 0, 1, 1);</div>
<div class="line">        grid.attach(text_entry, 3, 0, 1, 1);</div>
<div class="line">        grid.attach(text_color_label, 2, 1, 1, 1);</div>
<div class="line">        grid.attach(text_color_button, 3, 1, 1, 1);</div>
<div class="line">        grid.attach(text_justification_label, 2, 2, 1, 1);</div>
<div class="line">        grid.attach(text_justification_spin_button, 3, 2, 1, 1);</div>
<div class="line">        grid.attach(text_scale_factor_label, 2, 3, 1, 1);</div>
<div class="line">        grid.attach(text_scale_factor_spin_button, 3, 3, 1, 1);</div>
<div class="line">        grid.attach(text_orientation_label, 2, 4, 1, 1);</div>
<div class="line">        grid.attach(text_orientation_switch, 3, 4, 1, 1);</div>
<div class="line"> </div>
<div class="line">        grid.attach(geometry, 0, 5, 4, 1);</div>
<div class="line">        grid.set_column_spacing(5);</div>
<div class="line">        grid.set_column_homogeneous(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">        grid.set_margin(10);</div>
<div class="line">        set_child(grid);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test2&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test2&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//open our test file</span></div>
<div class="line">  std::ifstream fs;</div>
<div class="line">  fs.exceptions(std::ifstream::failbit | std::ifstream::badbit | std::ifstream::eofbit);</div>
<div class="line">  <span class="keywordflow">try</span> {</div>
<div class="line">       fs.open(TEST_CSV);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">catch</span> (std::exception &amp;e) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Error opening file &quot;</span> &lt;&lt; TEST_CSV &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  std::vector&lt;double&gt; x;</div>
<div class="line">  std::vector&lt;double&gt; y1, y2, y3, y4;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">while</span> (1) {</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">      fs.clear();</div>
<div class="line">      std::string line;</div>
<div class="line">      std::getline(fs, line);</div>
<div class="line">      gchar **splitted = g_strsplit(line.c_str(), <span class="stringliteral">&quot;,&quot;</span>, 0);</div>
<div class="line"> </div>
<div class="line">      x.push_back(g_ascii_strtod(splitted[1], NULL));</div>
<div class="line">      y1.push_back(g_ascii_strtod(splitted[2], NULL));</div>
<div class="line">      y2.push_back(g_ascii_strtod(splitted[3], NULL));</div>
<div class="line">      y3.push_back(g_ascii_strtod(splitted[4], NULL));</div>
<div class="line">      y4.push_back(g_ascii_strtod(splitted[5], NULL));</div>
<div class="line">      g_strfreev(splitted);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (std::exception &amp;e) {</div>
<div class="line">      <span class="keywordflow">if</span> (fs.eof()) {</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Error parsing &quot;</span> &lt;&lt; TEST_CSV &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">      <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (...) {</div>
<div class="line">      std::cerr &lt;&lt; <span class="stringliteral">&quot;Unknown exception occurred&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">      <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//ensure our y-values are greater than 1!</span></div>
<div class="line">  <span class="comment">//the x-values are already...</span></div>
<div class="line">  std::for_each(std::begin(y1), std::end(y1), [](<span class="keywordtype">double</span> &amp;a) { <span class="keywordflow">if</span> (a &lt; 1.0 ) a = 1.0;});</div>
<div class="line">  std::for_each(std::begin(y2), std::end(y2), [](<span class="keywordtype">double</span> &amp;a) { <span class="keywordflow">if</span> (a &lt; 1.0 ) a = 1.0;});</div>
<div class="line">  std::for_each(std::begin(y3), std::end(y3), [](<span class="keywordtype">double</span> &amp;a) { <span class="keywordflow">if</span> (a &lt; 1.0 ) a = 1.0;});</div>
<div class="line">  std::for_each(std::begin(y4), std::end(y4), [](<span class="keywordtype">double</span> &amp;a) { <span class="keywordflow">if</span> (a &lt; 1.0 ) a = 1.0;});</div>
<div class="line"> </div>
<div class="line">  Glib::ustring x_title(<span class="stringliteral">&quot;Energy (keV)&quot;</span>), y_title(<span class="stringliteral">&quot;Intensity (counts)&quot;</span>), plot_title(<span class="stringliteral">&quot;NIST SRM 1155 Stainless steel&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test2::Window&gt;(argc, argv, x, y1, y2, y3, y4, x_title, y_title, plot_title);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_canvas_html_a18c3d3255ed0ceae0e5892281aa652cd"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">Gtk::PLplot::Canvas::add_plot</a></div><div class="ttdeci">void add_plot(Plot &amp;plot)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_legend_html_a830847fc0e9ee76a952a4a3c6cf0e329"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_legend.html#a830847fc0e9ee76a952a4a3c6cf0e329">Gtk::PLplot::Legend::is_showing_legend</a></div><div class="ttdeci">bool is_showing_legend()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_legend_html_aa1abc684732b5ad9e36931a98cb1f76d"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_legend.html#aa1abc684732b5ad9e36931a98cb1f76d">Gtk::PLplot::Legend::get_legend_corner_position</a></div><div class="ttdeci">LegendCornerPosition get_legend_corner_position()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_legend_html_ab41300b189dc03253f60a3dff7f29401"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_legend.html#ab41300b189dc03253f60a3dff7f29401">Gtk::PLplot::Legend::set_legend_corner_position</a></div><div class="ttdeci">void set_legend_corner_position(LegendCornerPosition legend_corner_position)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html_a51d2d4898bec095335a9d6390c07f8b3"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a51d2d4898bec095335a9d6390c07f8b3">Gtk::PLplot::Plot2D::set_box_style</a></div><div class="ttdeci">void set_box_style(BoxStyle style=BOX_TICKS_TICK_LABELS)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html_a68b5969bc031c6bd5e40614cedde95ba"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a68b5969bc031c6bd5e40614cedde95ba">Gtk::PLplot::Plot2D::get_axis_logarithmic_x</a></div><div class="ttdeci">bool get_axis_logarithmic_x()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html_a6fda73a8c59f2fface7a815aa84f4ab1"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a6fda73a8c59f2fface7a815aa84f4ab1">Gtk::PLplot::Plot2D::get_axis_logarithmic_y</a></div><div class="ttdeci">bool get_axis_logarithmic_y()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html_a99251ff0b9d913603d59f46cee07e059"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a99251ff0b9d913603d59f46cee07e059">Gtk::PLplot::Plot2D::get_box_style</a></div><div class="ttdeci">BoxStyle get_box_style()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html_ad181feac158341e475ad42ec6904ec8f"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#ad181feac158341e475ad42ec6904ec8f">Gtk::PLplot::Plot2D::set_axis_logarithmic_y</a></div><div class="ttdeci">void set_axis_logarithmic_y(bool log10=true)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_html_a4db9521f9ceccb3041fd7fc7b84360c4"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a4db9521f9ceccb3041fd7fc7b84360c4">Gtk::PLplot::PlotData::set_name</a></div><div class="ttdeci">void set_name(Glib::ustring name)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_object2_d_html_abb97af98084d4cfcb0d7ecc22fad658a"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_object2_d.html#abb97af98084d4cfcb0d7ecc22fad658a">Gtk::PLplot::PlotObject2D::set_color</a></div><div class="ttdeci">void set_color(Gdk::RGBA color)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_object2_d_text_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_text.html">Gtk::PLplot::PlotObject2DText</a></div><div class="ttdoc">Text object for 2D plots.</div><div class="ttdef"><b>Definition</b> plotobject2dtext.h:31</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_object2_d_text_html_a181ffd5e384591da6a7cbdc32a0201d3"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_text.html#a181ffd5e384591da6a7cbdc32a0201d3">Gtk::PLplot::PlotObject2DText::set_scale_factor</a></div><div class="ttdeci">void set_scale_factor(double scale_factor)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_object2_d_text_html_a23e2c77c264b59bff3787b0436e190c5"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_text.html#a23e2c77c264b59bff3787b0436e190c5">Gtk::PLplot::PlotObject2DText::set_text</a></div><div class="ttdeci">void set_text(Glib::ustring text)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_object2_d_text_html_a3925c8cdc8eade27e440e5c1ff87a7d6"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_object2_d_text.html#a3925c8cdc8eade27e440e5c1ff87a7d6">Gtk::PLplot::PlotObject2DText::set_justification</a></div><div class="ttdeci">void set_justification(double justification)</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_a82b6f72ad8e7ddf16073e3baa63bde31"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#a82b6f72ad8e7ddf16073e3baa63bde31">Gtk::PLplot::LegendCornerPosition</a></div><div class="ttdeci">LegendCornerPosition</div><div class="ttdef"><b>Definition</b> enums.h:84</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_ac57ff669ab5a910c38ec29c4d90bf699"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#ac57ff669ab5a910c38ec29c4d90bf699">Gtk::PLplot::BoxStyle</a></div><div class="ttdeci">BoxStyle</div><div class="ttdef"><b>Definition</b> enums.h:43</div></div>
</div><!-- fragment --> <div class="image">
<img src="test2.png" alt=""/>
<div class="caption">
Example 2</div></div>
 <h1><a class="anchor" id="example3"></a>
Example 3: Adding, removing, showing and hiding plots</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2015 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/button.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef M_PI</span></div>
<div class="line"><span class="preprocessor">#define M_PI (3.14159265358979323846)</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test3 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line">    Gtk::Button add_plot;</div>
<div class="line">    Gtk::Button remove_plot;</div>
<div class="line">    Gtk::Button show_plot;</div>
<div class="line">    Gtk::Button hide_plot;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *plot;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> add_plot_clicked() {</div>
<div class="line">      add_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">      std::valarray&lt;double&gt; x_va(1000), y_va(1000);</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0 ; i &lt; 1000 ; i++) {</div>
<div class="line">        x_va[i] = 4*M_PI*i/999;</div>
<div class="line">      }</div>
<div class="line">      y_va = sin(x_va);</div>
<div class="line">      <span class="keyword">auto</span> plot_data = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(x_va, y_va, Gdk::RGBA(<span class="stringliteral">&quot;blue&quot;</span>), <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ace9488c705a112a307d8aa058a07688a">Gtk::PLplot::LineStyle::LONG_DASH_LONG_GAP</a>, 5.0));</div>
<div class="line">      plot = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a>(*plot_data));</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot);</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line"> </div>
<div class="line">      remove_plot.set_sensitive(<span class="keyword">true</span>);</div>
<div class="line">      show_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">      hide_plot.set_sensitive(<span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window() : canvas(), add_plot(<span class="stringliteral">&quot;Add&quot;</span>), remove_plot(<span class="stringliteral">&quot;Remove&quot;</span>),</div>
<div class="line">      show_plot(<span class="stringliteral">&quot;Show&quot;</span>), hide_plot(<span class="stringliteral">&quot;Hide&quot;</span>) {</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 1024, height = 580;</div>
<div class="line">      set_default_size(width, height);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test3&quot;</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height), <span class="keyword">false</span>);</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line">      add_plot.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      add_plot.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      add_plot.set_halign(Gtk::Align::END);</div>
<div class="line">      remove_plot.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      remove_plot.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      show_plot.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      show_plot.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      hide_plot.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      hide_plot.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      hide_plot.set_halign(Gtk::Align::START);</div>
<div class="line"> </div>
<div class="line">      remove_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">      show_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">      hide_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">      add_plot.signal_clicked().connect(sigc::mem_fun(*<span class="keyword">this</span>, &amp;Window::add_plot_clicked));</div>
<div class="line">      remove_plot.signal_clicked().connect([<span class="keyword">this</span>](){</div>
<div class="line">        canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#addae55b8f8bcbbe5f14f02f83f4b8ea7">remove_plot</a>(*plot);</div>
<div class="line">        add_plot.set_sensitive(<span class="keyword">true</span>);</div>
<div class="line">        remove_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">        show_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">        hide_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">      });</div>
<div class="line">      show_plot.signal_clicked().connect([<span class="keyword">this</span>](){</div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#afd4641972f860e47194b45cbdf44fa8a">show</a>();</div>
<div class="line">        show_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">        hide_plot.set_sensitive(<span class="keyword">true</span>);</div>
<div class="line">      });</div>
<div class="line">      hide_plot.signal_clicked().connect([<span class="keyword">this</span>](){</div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#a40b6e366547b542b95a7df24c20d700b">hide</a>();</div>
<div class="line">        show_plot.set_sensitive(<span class="keyword">true</span>);</div>
<div class="line">        hide_plot.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(add_plot, 0, 0, 1, 1);</div>
<div class="line">      grid.attach(remove_plot, 1, 0, 1, 1);</div>
<div class="line">      grid.attach(show_plot, 2, 0, 1, 1);</div>
<div class="line">      grid.attach(hide_plot, 3, 0, 1, 1);</div>
<div class="line">      grid.attach(geometry, 0, 1, 4, 1);</div>
<div class="line">      grid.set_row_spacing(5);</div>
<div class="line">      grid.set_column_spacing(5);</div>
<div class="line">      grid.set_column_homogeneous(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">      grid.set_margin(10);</div>
<div class="line">      set_child(grid);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test3&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test3&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test3::Window&gt;(argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_canvas_html_addae55b8f8bcbbe5f14f02f83f4b8ea7"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_canvas.html#addae55b8f8bcbbe5f14f02f83f4b8ea7">Gtk::PLplot::Canvas::remove_plot</a></div><div class="ttdeci">void remove_plot(unsigned int plot_index)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_html_a40b6e366547b542b95a7df24c20d700b"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot.html#a40b6e366547b542b95a7df24c20d700b">Gtk::PLplot::Plot::hide</a></div><div class="ttdeci">void hide()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_html_afd4641972f860e47194b45cbdf44fa8a"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot.html#afd4641972f860e47194b45cbdf44fa8a">Gtk::PLplot::Plot::show</a></div><div class="ttdeci">void show()</div></div>
</div><!-- fragment --> <div class="image">
<img src="test3.png" alt=""/>
<div class="caption">
Example 3</div></div>
 <h1><a class="anchor" id="example4"></a>
Example 4: Displaying multiple plots on a single canvas</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2015 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/stringutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/checkbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/label.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/entry.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test4 {</div>
<div class="line">  <span class="keyword">class </span>CheckButton : <span class="keyword">public</span> Gtk::CheckButton {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <span class="comment">//we are not using any methods specific to Plot2D, so we can safely use Plot here</span></div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *plot;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    CheckButton(Glib::ustring text) : <a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::CheckButton(text), plot(nullptr) {}</div>
<div class="line">    <span class="keywordtype">void</span> on_toggled() final {</div>
<div class="line">      <span class="keywordflow">if</span> (!plot)</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">      <span class="keywordflow">if</span> (get_active())</div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#afd4641972f860e47194b45cbdf44fa8a">show</a>();</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">        plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#a40b6e366547b542b95a7df24c20d700b">hide</a>();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordtype">void</span> connect_plot(<a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *_plot) {</div>
<div class="line">      plot = _plot;</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line">    Test4::CheckButton checkbutton1;</div>
<div class="line">    Test4::CheckButton checkbutton2;</div>
<div class="line">    Test4::CheckButton checkbutton3;</div>
<div class="line">    Gtk::Grid coordinates_grid;</div>
<div class="line">    Gtk::Label label_x;</div>
<div class="line">    Gtk::Label label_y;</div>
<div class="line">    Gtk::Entry entry_x;</div>
<div class="line">    Gtk::Entry entry_y;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window() : canvas(), checkbutton1(<span class="stringliteral">&quot;Plot 1&quot;</span>),</div>
<div class="line">      checkbutton2(<span class="stringliteral">&quot;Plot 2&quot;</span>), checkbutton3(<span class="stringliteral">&quot;Plot 3&quot;</span>),</div>
<div class="line">      label_x(<span class="stringliteral">&quot;X:&quot;</span>),</div>
<div class="line">      label_y(<span class="stringliteral">&quot;Y:&quot;</span>) {</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 1024, height = 580;</div>
<div class="line">      set_default_size(width, height);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test4&quot;</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a79647f00fc746bf7c1ff2dd00e0bb737">set_background_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;Light Gray&quot;</span>));</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height), <span class="keyword">false</span>);</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line">      grid.set_column_homogeneous(<span class="keyword">true</span>);</div>
<div class="line">      checkbutton1.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      checkbutton1.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      checkbutton1.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      checkbutton2.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      checkbutton2.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      checkbutton2.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      checkbutton3.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      checkbutton3.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      checkbutton3.set_halign(Gtk::Align::CENTER);</div>
<div class="line"> </div>
<div class="line">      std::valarray&lt;double&gt; x_va = <a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(1000)/50.0 - 10.0;</div>
<div class="line">      std::valarray&lt;double&gt; y_va1 = sinh(x_va);</div>
<div class="line">      std::valarray&lt;double&gt; y_va2 = cosh(x_va);</div>
<div class="line">      std::valarray&lt;double&gt; y_va3 = tanh(x_va);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//generate the data, the plot, add them to the canvas and use the return value to pass it to the checkbutton</span></div>
<div class="line">      <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *plot1 = Gtk::manage(</div>
<div class="line">        <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a>(</div>
<div class="line">          *Gtk::manage(</div>
<div class="line">            <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(</div>
<div class="line">              x_va,</div>
<div class="line">              y_va1,</div>
<div class="line">              Gdk::RGBA(<span class="stringliteral">&quot;blue&quot;</span>),</div>
<div class="line">              <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ada519a9ef4e88b0474a528b995122190">Gtk::PLplot::LineStyle::CONTINUOUS</a>,</div>
<div class="line">              3.0</div>
<div class="line">            )</div>
<div class="line">          ),</div>
<div class="line">          <span class="stringliteral">&quot;X-axis&quot;</span>,</div>
<div class="line">          <span class="stringliteral">&quot;Y-axis&quot;</span>,</div>
<div class="line">          <span class="stringliteral">&quot;Hyperbolic sine&quot;</span>,</div>
<div class="line">          0.5,</div>
<div class="line">          0.5,</div>
<div class="line">          0.0,</div>
<div class="line">          0.0</div>
<div class="line">        )</div>
<div class="line">      );</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot1);</div>
<div class="line">      checkbutton1.connect_plot(plot1);</div>
<div class="line"> </div>
<div class="line">      <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *plot2 = Gtk::manage(</div>
<div class="line">        <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a>(</div>
<div class="line">          *Gtk::manage(</div>
<div class="line">            <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(</div>
<div class="line">              x_va,</div>
<div class="line">              y_va2,</div>
<div class="line">              Gdk::RGBA(<span class="stringliteral">&quot;red&quot;</span>),</div>
<div class="line">              <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ada519a9ef4e88b0474a528b995122190">Gtk::PLplot::LineStyle::CONTINUOUS</a>,</div>
<div class="line">              3.0</div>
<div class="line">            )</div>
<div class="line">          ),</div>
<div class="line">          <span class="stringliteral">&quot;X-axis&quot;</span>,</div>
<div class="line">          <span class="stringliteral">&quot;Y-axis&quot;</span>,</div>
<div class="line">          <span class="stringliteral">&quot;Hyperbolic cosine&quot;</span>,</div>
<div class="line">          0.5,</div>
<div class="line">          0.5,</div>
<div class="line">          0.5,</div>
<div class="line">          0.0</div>
<div class="line">        )</div>
<div class="line">      );</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot2);</div>
<div class="line">      checkbutton2.connect_plot(plot2);</div>
<div class="line"> </div>
<div class="line">      <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *plot3 = Gtk::manage(</div>
<div class="line">        <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a>(</div>
<div class="line">          *Gtk::manage(</div>
<div class="line">            <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(</div>
<div class="line">              x_va,</div>
<div class="line">              y_va3,</div>
<div class="line">              Gdk::RGBA(<span class="stringliteral">&quot;green&quot;</span>),</div>
<div class="line">              <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ada519a9ef4e88b0474a528b995122190">Gtk::PLplot::LineStyle::CONTINUOUS</a>,</div>
<div class="line">              3.0</div>
<div class="line">            )</div>
<div class="line">          ),</div>
<div class="line">          <span class="stringliteral">&quot;X-axis&quot;</span>,</div>
<div class="line">          <span class="stringliteral">&quot;Y-axis&quot;</span>,</div>
<div class="line">          <span class="stringliteral">&quot;Hyperbolic tangent&quot;</span>,</div>
<div class="line">          0.4,</div>
<div class="line">          0.4,</div>
<div class="line">          0.2,</div>
<div class="line">          0.55</div>
<div class="line">        )</div>
<div class="line">      );</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot3);</div>
<div class="line">      checkbutton3.connect_plot(plot3);</div>
<div class="line"> </div>
<div class="line">      checkbutton1.set_active();</div>
<div class="line">      checkbutton2.set_active(<span class="keyword">false</span>);</div>
<div class="line">      checkbutton3.set_active();</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//let&#39;s make the first plot unpannable</span></div>
<div class="line">      plot1-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a0b5bdd4602885b5d738fe4a82fb0966e">set_region_pannable</a>(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//let&#39;s override the background color of the second plot and hide it to make the surprise complete!!</span></div>
<div class="line">      plot2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#a6f7e03366c9775cfcd01d135fd526b36">set_background_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;Yellow Green&quot;</span>));</div>
<div class="line">      plot2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#a40b6e366547b542b95a7df24c20d700b">hide</a>();</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//also let&#39;s disable the region selection, for no reason whatsoever!</span></div>
<div class="line">      plot2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a97b8064997d9aaf038e6c674b076b0a5">set_region_selectable</a>(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//let&#39;s override the default region of this plot, this is NOT influenced by set_region_selectable()!!!</span></div>
<div class="line">      plot2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a47d8ecef90ef1f249464480d8199fbae">set_region</a>(-10, 10, -10, 10);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//we can also change some other colors</span></div>
<div class="line">      plot2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#a1cc7231f25b58186ea74c7594f3a2a0d">set_axes_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;Blue&quot;</span>));</div>
<div class="line">      plot2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#acbb386ed9a1ecdaa211f3c8f955f378d">set_titles_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;Purple&quot;</span>));</div>
<div class="line">      plot2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a51d2d4898bec095335a9d6390c07f8b3">set_box_style</a>(<a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#ac57ff669ab5a910c38ec29c4d90bf699a157f1a25c306a07c66f78b695eb59a1d">Gtk::PLplot::BOX_TICKS_TICK_LABELS_MAIN_AXES_MAJOR_MINOR_TICK_GRID</a>);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//lets&#39;give the third plot a nice opaque background color</span></div>
<div class="line">      plot3-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#a6f7e03366c9775cfcd01d135fd526b36">set_background_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;White&quot;</span>));</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//but disable zooming by scrolling</span></div>
<div class="line">      plot3-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a58eec6839369f84e1e5486a90a542a1b">set_region_zoomable</a>(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//and give it an unusual selection box</span></div>
<div class="line">      plot3-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_region_selection.html#aaa35d791512ab41088aa20ef143cb14a">set_region_selection_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;Purple&quot;</span>));</div>
<div class="line">      plot3-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a30afb8a6eb1e73d1596ec59ff48cef0c">set_region_selection_width</a>(4.0);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//hook up signal_cursor_motion to the entries</span></div>
<div class="line">      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> plotnr = 0;</div>
<div class="line">      <span class="keywordflow">while</span> (1) {</div>
<div class="line">        <span class="keywordflow">try</span> {</div>
<div class="line">          <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *plot = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *<span class="keyword">&gt;</span>(canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#ae7997faf58346122fb2f47c2ea7eb16c">get_plot</a>(plotnr++));</div>
<div class="line">          plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_region_selection.html#ac50c94d6e4dfa3c8bb391577e61fc661">signal_cursor_motion</a>().connect([<span class="keyword">this</span>](<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y){</div>
<div class="line">            entry_x.set_text(Glib::Ascii::dtostr(x));</div>
<div class="line">            entry_y.set_text(Glib::Ascii::dtostr(y));</div>
<div class="line">          });</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_exception.html">Gtk::PLplot::Exception</a> &amp;e) {</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      grid.attach(checkbutton1, 0, 0, 1, 1);</div>
<div class="line">      grid.attach(checkbutton2, 1, 0, 1, 1);</div>
<div class="line">      grid.attach(checkbutton3, 2, 0, 1, 1);</div>
<div class="line">      grid.attach(geometry, 0, 1, 3, 1);</div>
<div class="line"> </div>
<div class="line">      coordinates_grid.set_column_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      coordinates_grid.attach(label_x, 0, 0, 1, 1);</div>
<div class="line">      coordinates_grid.attach(entry_x, 1, 0, 1, 1);</div>
<div class="line">      coordinates_grid.attach(label_y, 2, 0, 1, 1);</div>
<div class="line">      coordinates_grid.attach(entry_y, 3, 0, 1, 1);</div>
<div class="line">      label_x.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      label_x.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      label_x.set_halign(Gtk::Align::END);</div>
<div class="line">      label_y.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      label_y.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label_y.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      entry_x.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      entry_x.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      entry_x.set_halign(Gtk::Align::END);</div>
<div class="line">      entry_y.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      entry_y.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      entry_y.set_halign(Gtk::Align::START);</div>
<div class="line">      coordinates_grid.set_column_spacing(5);</div>
<div class="line">      grid.attach(coordinates_grid, 0, 2, 3, 1);</div>
<div class="line">      grid.set_row_spacing(5);</div>
<div class="line"> </div>
<div class="line">      grid.set_margin(10);</div>
<div class="line">      set_child(grid);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test4&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test4&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test4::Window&gt;(argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_canvas_html_a79647f00fc746bf7c1ff2dd00e0bb737"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_canvas.html#a79647f00fc746bf7c1ff2dd00e0bb737">Gtk::PLplot::Canvas::set_background_color</a></div><div class="ttdeci">void set_background_color(Gdk::RGBA color)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_canvas_html_ae7997faf58346122fb2f47c2ea7eb16c"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_canvas.html#ae7997faf58346122fb2f47c2ea7eb16c">Gtk::PLplot::Canvas::get_plot</a></div><div class="ttdeci">Plot * get_plot(unsigned int plot_index)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_exception_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_exception.html">Gtk::PLplot::Exception</a></div><div class="ttdoc">Gtkmm-PLplot's exception handler class.</div><div class="ttdef"><b>Definition</b> exception.h:31</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_html_a1cc7231f25b58186ea74c7594f3a2a0d"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot.html#a1cc7231f25b58186ea74c7594f3a2a0d">Gtk::PLplot::Plot::set_axes_color</a></div><div class="ttdeci">void set_axes_color(Gdk::RGBA color)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_html_a6f7e03366c9775cfcd01d135fd526b36"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot.html#a6f7e03366c9775cfcd01d135fd526b36">Gtk::PLplot::Plot::set_background_color</a></div><div class="ttdeci">void set_background_color(Gdk::RGBA color)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_html_acbb386ed9a1ecdaa211f3c8f955f378d"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot.html#acbb386ed9a1ecdaa211f3c8f955f378d">Gtk::PLplot::Plot::set_titles_color</a></div><div class="ttdeci">void set_titles_color(Gdk::RGBA color)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_region_selection_html_a0b5bdd4602885b5d738fe4a82fb0966e"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a0b5bdd4602885b5d738fe4a82fb0966e">Gtk::PLplot::RegionSelection::set_region_pannable</a></div><div class="ttdeci">void set_region_pannable(bool pannable=true)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_region_selection_html_a30afb8a6eb1e73d1596ec59ff48cef0c"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a30afb8a6eb1e73d1596ec59ff48cef0c">Gtk::PLplot::RegionSelection::set_region_selection_width</a></div><div class="ttdeci">void set_region_selection_width(double line_width)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_region_selection_html_a47d8ecef90ef1f249464480d8199fbae"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a47d8ecef90ef1f249464480d8199fbae">Gtk::PLplot::RegionSelection::set_region</a></div><div class="ttdeci">void set_region(double xmin, double xmax, double ymin, double ymax)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_region_selection_html_a58eec6839369f84e1e5486a90a542a1b"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a58eec6839369f84e1e5486a90a542a1b">Gtk::PLplot::RegionSelection::set_region_zoomable</a></div><div class="ttdeci">void set_region_zoomable(bool zoomable=true)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_region_selection_html_a97b8064997d9aaf038e6c674b076b0a5"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_region_selection.html#a97b8064997d9aaf038e6c674b076b0a5">Gtk::PLplot::RegionSelection::set_region_selectable</a></div><div class="ttdeci">void set_region_selectable(bool selectable=true)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_region_selection_html_aaa35d791512ab41088aa20ef143cb14a"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_region_selection.html#aaa35d791512ab41088aa20ef143cb14a">Gtk::PLplot::RegionSelection::set_region_selection_color</a></div><div class="ttdeci">void set_region_selection_color(Gdk::RGBA color)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_region_selection_html_ac50c94d6e4dfa3c8bb391577e61fc661"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_region_selection.html#ac50c94d6e4dfa3c8bb391577e61fc661">Gtk::PLplot::RegionSelection::signal_cursor_motion</a></div><div class="ttdeci">sigc::signal&lt; void(double, double)&gt; signal_cursor_motion()</div><div class="ttdef"><b>Definition</b> regionselection.h:361</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_a78f82db9b3d089b006439f97efad850c"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a></div><div class="ttdeci">std::valarray&lt; double &gt; indgen_va(unsigned int n)</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_ac57ff669ab5a910c38ec29c4d90bf699a157f1a25c306a07c66f78b695eb59a1d"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#ac57ff669ab5a910c38ec29c4d90bf699a157f1a25c306a07c66f78b695eb59a1d">Gtk::PLplot::BOX_TICKS_TICK_LABELS_MAIN_AXES_MAJOR_MINOR_TICK_GRID</a></div><div class="ttdeci">@ BOX_TICKS_TICK_LABELS_MAIN_AXES_MAJOR_MINOR_TICK_GRID</div><div class="ttdoc">also draw a grid at minor tick positions in both coordinates</div><div class="ttdef"><b>Definition</b> enums.h:49</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_af906a181e6250225210ce29c07f58636ada519a9ef4e88b0474a528b995122190"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ada519a9ef4e88b0474a528b995122190">Gtk::PLplot::CONTINUOUS</a></div><div class="ttdeci">@ CONTINUOUS</div><div class="ttdoc">a continuous, uninterrupted line will be drawn</div><div class="ttdef"><b>Definition</b> enums.h:29</div></div>
</div><!-- fragment --> <div class="image">
<img src="test4.png" alt=""/>
<div class="caption">
Example 4</div></div>
 <h1><a class="anchor" id="example5"></a>
Example 5: Mixing plot lines and symbols plus adding datapoints</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2015 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/switch.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/spinbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/colorbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/label.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/comboboxtext.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;random&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test5 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line">    Gtk::Label line_label;</div>
<div class="line">    Gtk::Label symbol_label;</div>
<div class="line">    Gtk::ComboBoxText linestyle_combo;</div>
<div class="line">    Gtk::Entry symbol_entry;</div>
<div class="line">    Gtk::ColorButton line_color;</div>
<div class="line">    Gtk::ColorButton symbol_color;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; linewidth_adj;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; symbol_scale_factor_adj;</div>
<div class="line">    Gtk::SpinButton linewidth_spin;</div>
<div class="line">    Gtk::SpinButton symbol_scale_factor_spin;</div>
<div class="line">    Gtk::Button add_data_button;</div>
<div class="line">    Gtk::Button remove_data_button;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window(std::valarray&lt;double&gt; &amp;x, std::valarray&lt;double&gt; &amp;y,</div>
<div class="line">      Glib::ustring x_title = <span class="stringliteral">&quot;X-axis&quot;</span>, Glib::ustring y_title = <span class="stringliteral">&quot;Y-axis&quot;</span>,</div>
<div class="line">      Glib::ustring plot_title = <span class="stringliteral">&quot;y = sqrt(x)&quot;</span>, Gdk::RGBA color = Gdk::RGBA(<span class="stringliteral">&quot;Blue&quot;</span>)) :</div>
<div class="line">      canvas(*<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::manage(new <a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::PLplot::Plot2D(*<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::manage(new <a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::PLplot::PlotData2D(x, y, color)), x_title, y_title, plot_title))),</div>
<div class="line">      line_label(<span class="stringliteral">&quot;Line&quot;</span>), symbol_label(<span class="stringliteral">&quot;Symbols&quot;</span>),</div>
<div class="line">      linewidth_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      symbol_scale_factor_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      linewidth_spin(linewidth_adj, 0.1, 1.0),</div>
<div class="line">      symbol_scale_factor_spin(symbol_scale_factor_adj, 0.1, 1.0),</div>
<div class="line">      add_data_button(<span class="stringliteral">&quot;Append datapoint&quot;</span>),</div>
<div class="line">      remove_data_button(<span class="stringliteral">&quot;Remove random datapoint&quot;</span>) {</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// general window and canvas settings</span></div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 1024, height = 580;</div>
<div class="line">      set_default_size(width, height);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test5&quot;</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height), <span class="keyword">false</span>);</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// grid options</span></div>
<div class="line">      grid.set_column_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      grid.set_column_spacing(5);</div>
<div class="line">      grid.set_row_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      grid.set_row_spacing(5);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the labels</span></div>
<div class="line">      line_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      line_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      line_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      line_label.set_halign(Gtk::Align::END);</div>
<div class="line">      symbol_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      symbol_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      symbol_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      symbol_label.set_halign(Gtk::Align::END);</div>
<div class="line"> </div>
<div class="line">      grid.attach(line_label, 0, 0, 1, 1);</div>
<div class="line">      grid.attach(symbol_label, 0, 1, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the color buttons</span></div>
<div class="line">      <span class="keyword">auto</span> plot_data = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> *<span class="keyword">&gt;</span>(canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#ae7997faf58346122fb2f47c2ea7eb16c">get_plot</a>(0)-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#ad2dfeb8c523d76ad35ad6ff83a803207">get_data</a>(0));</div>
<div class="line">      line_color.set_rgba(plot_data-&gt;get_color());</div>
<div class="line">      symbol_color.set_rgba(plot_data-&gt;get_symbol_color());</div>
<div class="line">      line_color.set_use_alpha(<span class="keyword">true</span>);</div>
<div class="line">      symbol_color.set_use_alpha(<span class="keyword">true</span>);</div>
<div class="line">      line_color.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      line_color.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      symbol_color.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      symbol_color.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      line_color.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      line_color.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      symbol_color.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      symbol_color.set_valign(Gtk::Align::CENTER);</div>
<div class="line"> </div>
<div class="line">      line_color.signal_color_set().connect([<span class="keyword">this</span>, plot_data](){plot_data-&gt;set_color(line_color.get_rgba());});</div>
<div class="line">      symbol_color.signal_color_set().connect([<span class="keyword">this</span>, plot_data](){plot_data-&gt;set_symbol_color(symbol_color.get_rgba());});</div>
<div class="line"> </div>
<div class="line">      grid.attach(line_color, 1, 0, 1, 1);</div>
<div class="line">      grid.attach(symbol_color, 1, 1, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the linestyle comboboxtext</span></div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;none&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;continuous&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;long dash long gap&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;long dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;long dash short gap short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;long dash short gap long dash short gap&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      linestyle_combo.set_active(plot_data-&gt;get_line_style());</div>
<div class="line">      linestyle_combo.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a7b78c1f087f6fec5ee7d1e18a20764c8">signal_changed</a>().connect([<span class="keyword">this</span>, plot_data](){plot_data-&gt;set_line_style(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636">Gtk::PLplot::LineStyle</a><span class="keyword">&gt;</span>(linestyle_combo.get_active_row_number()));});</div>
<div class="line"> </div>
<div class="line">      linestyle_combo.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      linestyle_combo.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      linestyle_combo.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      linestyle_combo.set_valign(Gtk::Align::CENTER);</div>
<div class="line"> </div>
<div class="line">      grid.attach(linestyle_combo, 2, 0, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the symbol</span></div>
<div class="line">      plot_data-&gt;set_symbol(<span class="stringliteral">&quot;√&quot;</span>);</div>
<div class="line">      symbol_entry.set_text(plot_data-&gt;get_symbol());</div>
<div class="line"> </div>
<div class="line">      symbol_entry.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      symbol_entry.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      symbol_entry.set_halign(Gtk::Align::FILL);</div>
<div class="line">      symbol_entry.set_valign(Gtk::Align::CENTER);</div>
<div class="line"> </div>
<div class="line">      symbol_entry.signal_changed().connect([<span class="keyword">this</span>, plot_data](){</div>
<div class="line">        plot_data-&gt;set_symbol(</div>
<div class="line">          symbol_entry.get_text()</div>
<div class="line">        );</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(symbol_entry, 2, 1, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//our spinbuttons, first one for the line thickness, second for symbol size</span></div>
<div class="line">      linewidth_spin.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      linewidth_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      linewidth_spin.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      linewidth_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      symbol_scale_factor_spin.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      symbol_scale_factor_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      symbol_scale_factor_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      symbol_scale_factor_spin.set_valign(Gtk::Align::CENTER);</div>
<div class="line"> </div>
<div class="line">      linewidth_spin.set_value(plot_data-&gt;get_line_width());</div>
<div class="line">      symbol_scale_factor_spin.set_value(plot_data-&gt;get_symbol_height_scale_factor());</div>
<div class="line"> </div>
<div class="line">      linewidth_spin.signal_value_changed().connect([<span class="keyword">this</span>, plot_data](){plot_data-&gt;set_line_width(linewidth_spin.get_value());});</div>
<div class="line">      symbol_scale_factor_spin.signal_value_changed().connect([<span class="keyword">this</span>, plot_data](){plot_data-&gt;set_symbol_height_scale_factor(symbol_scale_factor_spin.get_value());});</div>
<div class="line"> </div>
<div class="line">      grid.attach(linewidth_spin, 3, 0, 1, 1);</div>
<div class="line">      grid.attach(symbol_scale_factor_spin, 3, 1, 1, 1);</div>
<div class="line"> </div>
<div class="line">      Gtk::Grid *buttons_grid = Gtk::manage(<span class="keyword">new</span> Gtk::Grid());</div>
<div class="line">      buttons_grid-&gt;set_column_homogeneous(<span class="keyword">true</span>);</div>
<div class="line">      buttons_grid-&gt;set_column_spacing(5);</div>
<div class="line">      grid.attach(*buttons_grid, 0, 3, 4, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the add datapoint button</span></div>
<div class="line">      add_data_button.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      add_data_button.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      add_data_button.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      add_data_button.set_halign(Gtk::Align::END);</div>
<div class="line">      buttons_grid-&gt;attach(add_data_button, 0, 0, 1, 1);</div>
<div class="line">      add_data_button.signal_clicked().connect([<span class="keyword">this</span>, plot_data](){</div>
<div class="line">        <span class="comment">//this lambda has a static variable that will keep our ever incrementing X-value</span></div>
<div class="line">        <span class="keyword">static</span> <span class="keywordtype">double</span> new_x = 0.0;</div>
<div class="line">        plot_data-&gt;add_datapoint(new_x, sqrt(new_x));</div>
<div class="line">        new_x += 1.0;</div>
<div class="line">    remove_data_button.set_sensitive(<span class="keyword">true</span>);</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      remove_data_button.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      remove_data_button.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      remove_data_button.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      remove_data_button.set_halign(Gtk::Align::START);</div>
<div class="line">      remove_data_button.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">      buttons_grid-&gt;attach(remove_data_button, 1, 0, 1, 1);</div>
<div class="line">      remove_data_button.signal_clicked().connect([<span class="keyword">this</span>, plot_data](){</div>
<div class="line">        <span class="keyword">static</span> std::default_random_engine rng;</div>
<div class="line">        <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> size = plot_data-&gt;size();</div>
<div class="line">        <span class="keywordflow">if</span> (size == 1) {</div>
<div class="line">          plot_data-&gt;remove_datapoint(0);</div>
<div class="line">          remove_data_button.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">          std::uniform_int_distribution&lt;unsigned long int&gt; dist(0, size - 1);</div>
<div class="line">          plot_data-&gt;remove_datapoint(dist(rng));</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//finishing up</span></div>
<div class="line">      grid.attach(geometry, 0, 2, 4, 1);</div>
<div class="line">      grid.set_margin(10);</div>
<div class="line">      set_child(grid);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test5&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test5&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  std::valarray&lt;double&gt; x_va, y_va;</div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test5::Window&gt;(argc, argv, x_va, y_va);</div>
<div class="line">}</div>
</div><!-- fragment --> <div class="image">
<img src="test5.png" alt=""/>
<div class="caption">
Example 5</div></div>
 <h1><a class="anchor" id="example6"></a>
Example 6: Polar coordinate systems</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2015-2019 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/switch.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/spinbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/colorbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/label.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/comboboxtext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef M_PI</span></div>
<div class="line"><span class="preprocessor">#define M_PI (3.14159265358979323846)</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test6 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line">    std::valarray&lt;double&gt; theta3;</div>
<div class="line">    std::valarray&lt;double&gt; r3;</div>
<div class="line">    Gtk::Button button;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window() : theta3(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::PLplot::indgen_va(2000)*2.0*M_PI/1999.0), r3(2.0 * sin(4.0 * theta3 )), button(<span class="stringliteral">&quot;Replace Fermat&#39;s Spiral with Polar Rose&quot;</span>) {</div>
<div class="line">      <span class="comment">// general window and canvas settings</span></div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 720, height = 720;</div>
<div class="line">      set_default_size(width, height);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test6&quot;</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height), <span class="keyword">false</span>);</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//add a plot to canvas</span></div>
<div class="line">      <span class="comment">//a cardioid</span></div>
<div class="line">      std::valarray&lt;double&gt; theta1 = <a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(1000)*2.0*M_PI/999.0;</div>
<div class="line">      std::valarray&lt;double&gt; r1 = cos(theta1) + double(1.0);</div>
<div class="line"> </div>
<div class="line">      <span class="keyword">auto</span> plot = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_polar.html">Gtk::PLplot::PlotPolar</a>(</div>
<div class="line">        *Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_polar.html">Gtk::PLplot::PlotDataPolar</a>(r1, theta1, Gdk::RGBA(<span class="stringliteral">&quot;red&quot;</span>), <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ada519a9ef4e88b0474a528b995122190">Gtk::PLplot::LineStyle::CONTINUOUS</a>, 2.0)),</div>
<div class="line">        <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;Polar coordinate system&quot;</span></div>
<div class="line">      ));</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#ad2dfeb8c523d76ad35ad6ff83a803207">get_data</a>()-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a4db9521f9ceccb3041fd7fc7b84360c4">set_name</a>(<span class="stringliteral">&quot;Cardiod&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//Fermat&#39;s spiral</span></div>
<div class="line">      std::valarray&lt;double&gt; theta2 = <a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(2000)*4.0*M_PI/1999.0;</div>
<div class="line">      std::valarray&lt;double&gt; r2 = sqrt(theta2) * 2.0 / sqrt(M_PI) * 1.1;</div>
<div class="line"> </div>
<div class="line">      <span class="keyword">auto</span> data2 = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_polar.html">Gtk::PLplot::PlotDataPolar</a>(r2, theta2, Gdk::RGBA(<span class="stringliteral">&quot;green&quot;</span>), <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ada519a9ef4e88b0474a528b995122190">Gtk::PLplot::LineStyle::CONTINUOUS</a>, 2.0));</div>
<div class="line">      data2-&gt;set_name(<span class="stringliteral">&quot;Fermat&#39;s Spiral&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot);</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a3dc88614d1f2d011ef41b9d9f9c9037f">add_data</a>(*data2);</div>
<div class="line"> </div>
<div class="line">      grid.attach(geometry, 0, 0, 1, 1);</div>
<div class="line">      button.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      button.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      button.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      button.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      button.signal_clicked().connect([<span class="keyword">this</span>, data2](){</div>
<div class="line">        data2-&gt;set_name(<span class="stringliteral">&quot;Polar Rose&quot;</span>);</div>
<div class="line">    data2-&gt;replace_datapoints(r3, theta3);</div>
<div class="line">    button.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">      });</div>
<div class="line">      grid.attach(button, 0, 1, 1, 1);</div>
<div class="line">      </div>
<div class="line">      grid.set_margin(10);</div>
<div class="line">      set_child(grid);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test6&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test6&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test6::Window&gt;(argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_polar_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_polar.html">Gtk::PLplot::PlotDataPolar</a></div><div class="ttdoc">a class that will hold a single dataset and its properties for a PlotPolar plot</div><div class="ttdef"><b>Definition</b> plotdatapolar.h:42</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_polar_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_polar.html">Gtk::PLplot::PlotPolar</a></div><div class="ttdoc">a class for polar plots</div><div class="ttdef"><b>Definition</b> plotpolar.h:41</div></div>
</div><!-- fragment --> <div class="image">
<img src="test6.png" alt=""/>
<div class="caption">
Example 6</div></div>
 <h1><a class="anchor" id="example7"></a>
Example 7: a Simple contour plot</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2015 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/spinbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/colorbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/label.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/comboboxtext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test7 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line">    Gtk::Label edge_label;</div>
<div class="line">    Gtk::ColorButton edge_color;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; edge_width_adj;</div>
<div class="line">    Gtk::SpinButton edge_width_spin;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label nlevels_label;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; nlevels_adj;</div>
<div class="line">    Gtk::SpinButton nlevels_spin;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window() :</div>
<div class="line">      edge_label(<span class="stringliteral">&quot;Contour edge properties&quot;</span>),</div>
<div class="line">      edge_color(Gdk::RGBA(<span class="stringliteral">&quot;Red&quot;</span>)),</div>
<div class="line">      edge_width_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      edge_width_spin(edge_width_adj, 0.1, 1),</div>
<div class="line">      nlevels_label(<span class="stringliteral">&quot;Number of contour edges&quot;</span>),</div>
<div class="line">      nlevels_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(7, 3, 20, 1, 5)),</div>
<div class="line">      nlevels_spin(nlevels_adj, 1, 0)</div>
<div class="line">      {</div>
<div class="line"> </div>
<div class="line">      Glib::ustring x_title = <span class="stringliteral">&quot;X-axis&quot;</span>;</div>
<div class="line">      Glib::ustring y_title = <span class="stringliteral">&quot;Y-axis&quot;</span>;</div>
<div class="line">      Glib::ustring plot_title = <span class="stringliteral">&quot;Intensity vs detector position&quot;</span>;</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// general window and canvas settings</span></div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 1024, height = 720;</div>
<div class="line">      set_default_size(width, height);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test7&quot;</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height), <span class="keyword">false</span>);</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//read in our dataset</span></div>
<div class="line">      std::ifstream fs;</div>
<div class="line">      fs.exceptions(std::ifstream::failbit | std::ifstream::badbit | std::ifstream::eofbit);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// 11 x 11 dataset (I know the file layout and the data dimensions already)</span></div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> nx = 11;</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> ny = 11;</div>
<div class="line">      std::vector&lt;double&gt; x(nx);</div>
<div class="line">      std::vector&lt;double&gt; y(ny);</div>
<div class="line"><span class="preprocessor">#ifdef GTKMM_PLPLOT_BOOST_ENABLED</span></div>
<div class="line">      boost::multi_array&lt;double, 2&gt; z(boost::extents[nx][ny]);</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;Using Boost multi_array!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">      <span class="keywordtype">double</span> **z = <a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#ace7c29d26e58ccc9721dce9aa1f94b76">Gtk::PLplot::calloc_array2d</a>(nx, ny);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">      fs.open(TEST_CSV);</div>
<div class="line">      std::string line;</div>
<div class="line">      std::getline(fs, line);</div>
<div class="line">      gchar **splitted = g_strsplit(line.c_str(), <span class="stringliteral">&quot;,&quot;</span>, 0);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//first line contains the x values</span></div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1 ; i &lt; nx + 1 ; i++) {</div>
<div class="line">        x[i-1] = g_ascii_strtod(splitted[i], NULL);</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      g_strfreev(splitted);</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0 ; i &lt; ny ; i++) {</div>
<div class="line">        line.clear();</div>
<div class="line">        std::getline(fs, line);</div>
<div class="line">        splitted = g_strsplit(line.c_str(), <span class="stringliteral">&quot;,&quot;</span>, 0);</div>
<div class="line">        y[i] = g_ascii_strtod(splitted[0], NULL);</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1 ; j &lt; nx + 1 ; j++) {</div>
<div class="line">          z[j-1][i] = g_ascii_strtod(splitted[j], NULL);</div>
<div class="line">        }</div>
<div class="line">        g_strfreev(splitted);</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//construct the plot</span></div>
<div class="line">      <span class="keyword">auto</span> plot = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_contour.html">Gtk::PLplot::PlotContour</a>(</div>
<div class="line">        *Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_surface.html">Gtk::PLplot::PlotDataSurface</a>(x, y, z)),</div>
<div class="line">        x_title,</div>
<div class="line">        y_title,</div>
<div class="line">        plot_title,</div>
<div class="line">        7,</div>
<div class="line">        edge_color.get_rgba(),</div>
<div class="line">        1.0</div>
<div class="line">      ));</div>
<div class="line"> </div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//now let&#39;s set up the grid</span></div>
<div class="line">      grid.set_column_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      grid.set_column_spacing(5);</div>
<div class="line">      grid.set_row_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      grid.set_row_spacing(5);</div>
<div class="line"> </div>
<div class="line">      edge_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      edge_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      edge_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      edge_label.set_halign(Gtk::Align::END);</div>
<div class="line"> </div>
<div class="line">      grid.attach(edge_label, 0, 0, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//color button</span></div>
<div class="line">      edge_color.set_rgba(plot-&gt;get_edge_color());</div>
<div class="line">      edge_color.set_use_alpha(<span class="keyword">true</span>);</div>
<div class="line">      edge_color.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      edge_color.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      edge_color.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      edge_color.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      edge_color.signal_color_set().connect([<span class="keyword">this</span>, plot](){plot-&gt;set_edge_color(edge_color.get_rgba());});</div>
<div class="line"> </div>
<div class="line">      grid.attach(edge_color, 1, 0, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the spinbutton</span></div>
<div class="line">      edge_width_spin.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      edge_width_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      edge_width_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      edge_width_spin.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      edge_width_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      edge_width_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      edge_width_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      edge_width_spin.set_value(plot-&gt;get_edge_width());</div>
<div class="line">      edge_width_spin.signal_value_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        plot-&gt;set_edge_width(edge_width_spin.get_value());</div>
<div class="line">      });</div>
<div class="line">      grid.attach(edge_width_spin, 2, 0, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//add canvas to grid</span></div>
<div class="line">      grid.attach(geometry, 0, 1, 4, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//nlevels</span></div>
<div class="line">      nlevels_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      nlevels_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      nlevels_label.set_halign(Gtk::Align::END);</div>
<div class="line">      nlevels_spin.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      nlevels_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      nlevels_spin.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      nlevels_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_spin.set_value(plot-&gt;get_nlevels());</div>
<div class="line">      nlevels_spin.signal_value_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        plot-&gt;set_nlevels(nlevels_spin.get_value());</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(nlevels_label, 0, 2, 2, 1);</div>
<div class="line">      grid.attach(nlevels_spin, 2, 2, 2, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//finishing up</span></div>
<div class="line">      grid.set_margin(10);</div>
<div class="line">      set_child(grid);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test7&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test7&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test7::Window&gt;(argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_contour_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_contour.html">Gtk::PLplot::PlotContour</a></div><div class="ttdoc">a class for contour plots</div><div class="ttdef"><b>Definition</b> plotcontour.h:40</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_surface_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_surface.html">Gtk::PLplot::PlotDataSurface</a></div><div class="ttdoc">a class for surface datasets</div><div class="ttdef"><b>Definition</b> plotdatasurface.h:40</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_ace7c29d26e58ccc9721dce9aa1f94b76"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#ace7c29d26e58ccc9721dce9aa1f94b76">Gtk::PLplot::calloc_array2d</a></div><div class="ttdeci">double ** calloc_array2d(int nx, int ny)</div></div>
</div><!-- fragment --> <div class="image">
<img src="test7.png" alt=""/>
<div class="caption">
Example 7</div></div>
 <h1><a class="anchor" id="example8"></a>
Example 8: a Shaded contour plot</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2015 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/spinbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/colorbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/label.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/comboboxtext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/switch.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/paned.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmmconfig.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test8 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label show_edges_label;</div>
<div class="line">    Gtk::Switch show_edges_switch;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label show_labels_label;</div>
<div class="line">    Gtk::Switch show_labels_switch;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label edge_color_label;</div>
<div class="line">    Gtk::ColorButton edge_color;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label edge_width_label;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; edge_width_adj;</div>
<div class="line">    Gtk::SpinButton edge_width_spin;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label nlevels_label;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; nlevels_adj;</div>
<div class="line">    Gtk::SpinButton nlevels_spin;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label colormap_palette_label;</div>
<div class="line">    Gtk::ComboBoxText colormap_palette_combo;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label area_fill_pattern_label;</div>
<div class="line">    Gtk::ComboBoxText area_fill_pattern_combo;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label area_lines_width_label;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; area_lines_width_adj;</div>
<div class="line">    Gtk::SpinButton area_lines_width_spin;</div>
<div class="line"> </div>
<div class="line">    Gtk::Label colorbar_label;</div>
<div class="line">    Gtk::Switch colorbar_switch;</div>
<div class="line"> </div>
<div class="line">    Gtk::Paned paned;</div>
<div class="line"> </div>
<div class="line">    Gtk::AspectFrame aspect_frame;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window() :</div>
<div class="line">      show_edges_label(<span class="stringliteral">&quot;Show edges&quot;</span>),</div>
<div class="line">      show_labels_label(<span class="stringliteral">&quot;Show contour labels&quot;</span>),</div>
<div class="line">      edge_color_label(<span class="stringliteral">&quot;Contour edge color&quot;</span>),</div>
<div class="line">      edge_color(Gdk::RGBA(<span class="stringliteral">&quot;Red&quot;</span>)),</div>
<div class="line">      edge_width_label(<span class="stringliteral">&quot;Contour edge width&quot;</span>),</div>
<div class="line">      edge_width_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      edge_width_spin(edge_width_adj, 0.1, 1),</div>
<div class="line">      nlevels_label(<span class="stringliteral">&quot;Number of contour edges&quot;</span>),</div>
<div class="line">      nlevels_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(7, 3, 20, 1, 5)),</div>
<div class="line">      nlevels_spin(nlevels_adj, 1, 0),</div>
<div class="line">      colormap_palette_label(<span class="stringliteral">&quot;Colormap palette&quot;</span>),</div>
<div class="line">      area_fill_pattern_label(<span class="stringliteral">&quot;Fill pattern&quot;</span>),</div>
<div class="line">      area_lines_width_label(<span class="stringliteral">&quot;Fill pattern width&quot;</span>),</div>
<div class="line">      area_lines_width_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      area_lines_width_spin(area_lines_width_adj, 0.1, 1),</div>
<div class="line">      colorbar_label(<span class="stringliteral">&quot;Show colorbar&quot;</span>),</div>
<div class="line">      paned(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Orientation::VERTICAL),</div>
<div class="line">      aspect_frame(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Align::CENTER, <a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Align::CENTER, 1.5, false)</div>
<div class="line">      {</div>
<div class="line"> </div>
<div class="line">      Glib::ustring x_title = <span class="stringliteral">&quot;X-axis&quot;</span>;</div>
<div class="line">      Glib::ustring y_title = <span class="stringliteral">&quot;Y-axis&quot;</span>;</div>
<div class="line">      Glib::ustring plot_title = <span class="stringliteral">&quot;Intensity vs detector position&quot;</span>;</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// general window and canvas settings</span></div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 720, height = 720;</div>
<div class="line">      set_default_size(width, height);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test8&quot;</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//read in our dataset</span></div>
<div class="line">      std::ifstream fs;</div>
<div class="line">      fs.exceptions(std::ifstream::failbit | std::ifstream::badbit | std::ifstream::eofbit);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// 11 x 11 dataset (I know the file layout and the data dimensions already)</span></div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> nx = 11;</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> ny = 11;</div>
<div class="line">      std::vector&lt;double&gt; x(nx);</div>
<div class="line">      std::vector&lt;double&gt; y(ny);</div>
<div class="line"><span class="preprocessor">#ifdef GTKMM_PLPLOT_BOOST_ENABLED</span></div>
<div class="line">      boost::multi_array&lt;double, 2&gt; z(boost::extents[nx][ny]);</div>
<div class="line">      std::cout &lt;&lt; <span class="stringliteral">&quot;Using Boost multi_array!&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">      <span class="keywordtype">double</span> **z = <a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#ace7c29d26e58ccc9721dce9aa1f94b76">Gtk::PLplot::calloc_array2d</a>(nx, ny);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">      fs.open(TEST_CSV);</div>
<div class="line">      std::string line;</div>
<div class="line">      std::getline(fs, line);</div>
<div class="line">      gchar **splitted = g_strsplit(line.c_str(), <span class="stringliteral">&quot;,&quot;</span>, 0);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//first line contains the x values</span></div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1 ; i &lt; nx + 1 ; i++) {</div>
<div class="line">        x[i-1] = g_ascii_strtod(splitted[i], NULL);</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      g_strfreev(splitted);</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0 ; i &lt; ny ; i++) {</div>
<div class="line">        line.clear();</div>
<div class="line">        std::getline(fs, line);</div>
<div class="line">        splitted = g_strsplit(line.c_str(), <span class="stringliteral">&quot;,&quot;</span>, 0);</div>
<div class="line">        y[i] = g_ascii_strtod(splitted[0], NULL);</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1 ; j &lt; nx + 1 ; j++) {</div>
<div class="line">          z[j-1][i] = g_ascii_strtod(splitted[j], NULL);</div>
<div class="line">        }</div>
<div class="line">        g_strfreev(splitted);</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//construct the plot</span></div>
<div class="line">      <span class="keyword">auto</span> plot = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_contour_shades.html">Gtk::PLplot::PlotContourShades</a>(</div>
<div class="line">        *Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_surface.html">Gtk::PLplot::PlotDataSurface</a>(</div>
<div class="line">          x,</div>
<div class="line">          y,</div>
<div class="line">          z</div>
<div class="line">        )),</div>
<div class="line">        x_title,</div>
<div class="line">        y_title,</div>
<div class="line">        plot_title,</div>
<div class="line">        7,</div>
<div class="line">        <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#a91e52d444bdbbf378c1c16112efd66a2a05dad4f6bbf046d30c5753d876acd12b">Gtk::PLplot::ColormapPalette::BLUE_RED</a>,</div>
<div class="line">        edge_color.get_rgba(),</div>
<div class="line">        1.0</div>
<div class="line">      ));</div>
<div class="line"> </div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot);</div>
<div class="line"> </div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#a6f7e03366c9775cfcd01d135fd526b36">set_background_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;Yellow Green&quot;</span>));</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//now let&#39;s set up the grid</span></div>
<div class="line">      grid.set_column_homogeneous(<span class="keyword">true</span>);</div>
<div class="line">      grid.set_column_spacing(5);</div>
<div class="line">      grid.set_row_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      grid.set_row_spacing(5);</div>
<div class="line"> </div>
<div class="line">      <span class="keywordtype">int</span> row_counter = 0;</div>
<div class="line"> </div>
<div class="line">      show_edges_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      show_edges_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      show_edges_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      show_edges_label.set_halign(Gtk::Align::END);</div>
<div class="line">      show_edges_switch.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      show_edges_switch.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      show_edges_switch.set_halign(Gtk::Align::START);</div>
<div class="line">      show_edges_switch.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      show_edges_switch.set_active(plot-&gt;is_showing_edges());</div>
<div class="line">      show_edges_switch.property_active().signal_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        <span class="keywordflow">if</span> (show_edges_switch.get_active()) {</div>
<div class="line">          edge_color.set_sensitive();</div>
<div class="line">          edge_width_spin.set_sensitive();</div>
<div class="line">          show_labels_switch.set_sensitive();</div>
<div class="line">          plot-&gt;show_edges();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">          edge_color.set_sensitive(false);</div>
<div class="line">          edge_width_spin.set_sensitive(false);</div>
<div class="line">          show_labels_switch.set_sensitive(false);</div>
<div class="line">          plot-&gt;hide_edges();</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(show_edges_label, 0, row_counter, 1, 1);</div>
<div class="line">      grid.attach(show_edges_switch, 1, row_counter++, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// show contour labels</span></div>
<div class="line">      show_labels_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      show_labels_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      show_labels_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      show_labels_label.set_halign(Gtk::Align::END);</div>
<div class="line">      show_labels_switch.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      show_labels_switch.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      show_labels_switch.set_halign(Gtk::Align::START);</div>
<div class="line">      show_labels_switch.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      show_labels_switch.set_active(plot-&gt;is_showing_labels());</div>
<div class="line">      show_labels_switch.property_active().signal_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        <span class="keywordflow">if</span> (show_labels_switch.get_active()) {</div>
<div class="line">          plot-&gt;show_labels();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">          plot-&gt;hide_labels();</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(show_labels_label, 0, row_counter, 1, 1);</div>
<div class="line">      grid.attach(show_labels_switch, 1, row_counter++, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//color button</span></div>
<div class="line">      edge_color_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      edge_color_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      edge_color_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      edge_color_label.set_halign(Gtk::Align::END);</div>
<div class="line"> </div>
<div class="line">      edge_color.set_rgba(plot-&gt;get_edge_color());</div>
<div class="line">      edge_color.set_use_alpha(<span class="keyword">true</span>);</div>
<div class="line">      edge_color.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      edge_color.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      edge_color.set_halign(Gtk::Align::START);</div>
<div class="line">      edge_color.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      edge_color.signal_color_set().connect([<span class="keyword">this</span>, plot](){plot-&gt;set_edge_color(edge_color.get_rgba());});</div>
<div class="line"> </div>
<div class="line">      grid.attach(edge_color_label, 0, row_counter, 1, 1);</div>
<div class="line">      grid.attach(edge_color, 1, row_counter++, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the edge width spinbutton</span></div>
<div class="line">      edge_width_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      edge_width_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      edge_width_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      edge_width_label.set_halign(Gtk::Align::END);</div>
<div class="line"> </div>
<div class="line">      edge_width_spin.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      edge_width_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      edge_width_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      edge_width_spin.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      edge_width_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      edge_width_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      edge_width_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      edge_width_spin.set_value(plot-&gt;get_edge_width());</div>
<div class="line">      edge_width_spin.signal_value_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        plot-&gt;set_edge_width(edge_width_spin.get_value());</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(edge_width_label, 0, row_counter, 1, 1);</div>
<div class="line">      grid.attach(edge_width_spin, 1, row_counter++, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//nlevels</span></div>
<div class="line">      nlevels_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      nlevels_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      nlevels_label.set_halign(Gtk::Align::END);</div>
<div class="line">      nlevels_spin.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      nlevels_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      nlevels_spin.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      nlevels_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      nlevels_spin.set_value(plot-&gt;get_nlevels());</div>
<div class="line">      nlevels_spin.signal_value_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        plot-&gt;set_nlevels(nlevels_spin.get_value());</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(nlevels_label, 0, row_counter, 1, 1);</div>
<div class="line">      grid.attach(nlevels_spin, 1, row_counter++, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// colormap palette</span></div>
<div class="line">      colormap_palette_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      colormap_palette_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      colormap_palette_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      colormap_palette_label.set_halign(Gtk::Align::END);</div>
<div class="line">      colormap_palette_combo.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      colormap_palette_combo.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      colormap_palette_combo.set_halign(Gtk::Align::START);</div>
<div class="line">      colormap_palette_combo.set_valign(Gtk::Align::CENTER);</div>
<div class="line"> </div>
<div class="line">      colormap_palette_combo.append(<span class="stringliteral">&quot;Default&quot;</span>);</div>
<div class="line">      colormap_palette_combo.append(<span class="stringliteral">&quot;Blue → Red&quot;</span>);</div>
<div class="line">      colormap_palette_combo.append(<span class="stringliteral">&quot;Blue → Yellow&quot;</span>);</div>
<div class="line">      colormap_palette_combo.append(<span class="stringliteral">&quot;Gray&quot;</span>);</div>
<div class="line">      colormap_palette_combo.append(<span class="stringliteral">&quot;High frequencies&quot;</span>);</div>
<div class="line">      colormap_palette_combo.append(<span class="stringliteral">&quot;Low frequencies&quot;</span>);</div>
<div class="line">      colormap_palette_combo.append(<span class="stringliteral">&quot;Radar&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      colormap_palette_combo.set_active(plot-&gt;get_colormap_palette());</div>
<div class="line">      colormap_palette_combo.signal_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        plot-&gt;set_colormap_palette(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#a91e52d444bdbbf378c1c16112efd66a2">Gtk::PLplot::ColormapPalette</a><span class="keyword">&gt;</span>(colormap_palette_combo.get_active_row_number()));</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(colormap_palette_label, 0, row_counter, 1, 1);</div>
<div class="line">      grid.attach(colormap_palette_combo, 1, row_counter++, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//area fill pattern</span></div>
<div class="line">      area_fill_pattern_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      area_fill_pattern_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      area_fill_pattern_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      area_fill_pattern_label.set_halign(Gtk::Align::END);</div>
<div class="line">      area_fill_pattern_combo.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      area_fill_pattern_combo.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      area_fill_pattern_combo.set_halign(Gtk::Align::START);</div>
<div class="line">      area_fill_pattern_combo.set_valign(Gtk::Align::CENTER);</div>
<div class="line"> </div>
<div class="line">      area_fill_pattern_combo.append(<span class="stringliteral">&quot;Solid&quot;</span>);</div>
<div class="line">      area_fill_pattern_combo.append(<span class="stringliteral">&quot;Horizontal lines&quot;</span>);</div>
<div class="line">      area_fill_pattern_combo.append(<span class="stringliteral">&quot;Vertical lines&quot;</span>);</div>
<div class="line">      area_fill_pattern_combo.append(<span class="stringliteral">&quot;Upward lines at 45 degrees&quot;</span>);</div>
<div class="line">      area_fill_pattern_combo.append(<span class="stringliteral">&quot;Downward lines at 45 degrees&quot;</span>);</div>
<div class="line">      area_fill_pattern_combo.append(<span class="stringliteral">&quot;Upward lines at 30 degrees&quot;</span>);</div>
<div class="line">      area_fill_pattern_combo.append(<span class="stringliteral">&quot;Downward lines at 30 degrees&quot;</span>);</div>
<div class="line">      area_fill_pattern_combo.append(<span class="stringliteral">&quot;Horizontal and vertical lines&quot;</span>);</div>
<div class="line">      area_fill_pattern_combo.append(<span class="stringliteral">&quot;Upward and downward lines at 45 degrees&quot;</span>);</div>
<div class="line">      area_fill_pattern_combo.set_active(plot-&gt;get_area_fill_pattern());</div>
<div class="line">      area_fill_pattern_combo.signal_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        plot-&gt;set_area_fill_pattern(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#abe6b8f6295854d5231442517702d1ede">Gtk::PLplot::AreaFillPattern</a><span class="keyword">&gt;</span>(area_fill_pattern_combo.get_active_row_number()));</div>
<div class="line">        <span class="keywordflow">if</span> (area_fill_pattern_combo.get_active_row_number() == 0 <span class="comment">/* SOLID */</span>) {</div>
<div class="line">          area_lines_width_spin.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">          area_lines_width_spin.set_sensitive();</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(area_fill_pattern_label, 0, row_counter, 1, 1);</div>
<div class="line">      grid.attach(area_fill_pattern_combo, 1, row_counter++, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the area lines width spinbutton</span></div>
<div class="line">      area_lines_width_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      area_lines_width_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      area_lines_width_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      area_lines_width_label.set_halign(Gtk::Align::END);</div>
<div class="line"> </div>
<div class="line">      area_lines_width_spin.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      area_lines_width_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      area_lines_width_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      area_lines_width_spin.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      area_lines_width_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      area_lines_width_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      area_lines_width_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      area_lines_width_spin.set_value(plot-&gt;get_area_lines_width());</div>
<div class="line">      area_lines_width_spin.signal_value_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        plot-&gt;set_area_lines_width(area_lines_width_spin.get_value());</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      area_lines_width_spin.set_sensitive(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">      grid.attach(area_lines_width_label, 0, row_counter, 1, 1);</div>
<div class="line">      grid.attach(area_lines_width_spin, 1, row_counter++, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//colorbar</span></div>
<div class="line">      colorbar_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      colorbar_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      colorbar_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      colorbar_label.set_halign(Gtk::Align::END);</div>
<div class="line">      colorbar_switch.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      colorbar_switch.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      colorbar_switch.set_halign(Gtk::Align::START);</div>
<div class="line">      colorbar_switch.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      colorbar_switch.set_active(plot-&gt;is_showing_colorbar());</div>
<div class="line">      colorbar_switch.property_active().signal_changed().connect([<span class="keyword">this</span>, plot](){</div>
<div class="line">        <span class="keywordflow">if</span> (colorbar_switch.get_active()) {</div>
<div class="line">          plot-&gt;show_colorbar();</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">          plot-&gt;hide_colorbar();</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      grid.attach(colorbar_label, 0, row_counter, 1, 1);</div>
<div class="line">      grid.attach(colorbar_switch, 1, row_counter++, 1, 1);</div>
<div class="line">      paned.set_start_child(grid);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//add canvas to grid</span></div>
<div class="line">      aspect_frame.set_child(canvas);</div>
<div class="line">      paned.set_end_child(aspect_frame);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//finishing up</span></div>
<div class="line">      set_child(paned);</div>
<div class="line">      paned.set_wide_handle(<span class="keyword">true</span>);</div>
<div class="line">      paned.set_position(height / 2);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test8&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test8&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test8::Window&gt;(argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_contour_shades_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_contour_shades.html">Gtk::PLplot::PlotContourShades</a></div><div class="ttdoc">a class for contour plots with shaded regions.</div><div class="ttdef"><b>Definition</b> plotcontourshades.h:37</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_a91e52d444bdbbf378c1c16112efd66a2"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#a91e52d444bdbbf378c1c16112efd66a2">Gtk::PLplot::ColormapPalette</a></div><div class="ttdeci">ColormapPalette</div><div class="ttdef"><b>Definition</b> enums.h:56</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_a91e52d444bdbbf378c1c16112efd66a2a05dad4f6bbf046d30c5753d876acd12b"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#a91e52d444bdbbf378c1c16112efd66a2a05dad4f6bbf046d30c5753d876acd12b">Gtk::PLplot::BLUE_RED</a></div><div class="ttdeci">@ BLUE_RED</div><div class="ttdoc">a gradient from blue to red</div><div class="ttdef"><b>Definition</b> enums.h:58</div></div>
<div class="ttc" id="anamespace_gtk_1_1_p_lplot_html_abe6b8f6295854d5231442517702d1ede"><div class="ttname"><a href="namespace_gtk_1_1_p_lplot.html#abe6b8f6295854d5231442517702d1ede">Gtk::PLplot::AreaFillPattern</a></div><div class="ttdeci">AreaFillPattern</div><div class="ttdef"><b>Definition</b> enums.h:69</div></div>
</div><!-- fragment --> <div class="image">
<img src="test8.png" alt=""/>
<div class="caption">
Example 8</div></div>
 <h1><a class="anchor" id="example9"></a>
Example 9: a Three-dimensional plot</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2015 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/switch.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/label.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/comboboxtext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/spinbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/colorbutton.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef M_PI</span></div>
<div class="line"><span class="preprocessor">#define M_PI (3.14159265358979323846)</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test9 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line">    Gtk::Label label1;</div>
<div class="line">    Gtk::Label label2;</div>
<div class="line">    Gtk::ColorButton color_combo1;</div>
<div class="line">    Gtk::ColorButton color_combo2;</div>
<div class="line">    Gtk::ComboBoxText linestyle_combo1;</div>
<div class="line">    Gtk::ComboBoxText linestyle_combo2;</div>
<div class="line">    Gtk::Switch show_radio1;</div>
<div class="line">    Gtk::Switch show_radio2;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; linewidth_adj1;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; linewidth_adj2;</div>
<div class="line">    Gtk::SpinButton linewidth_spin1;</div>
<div class="line">    Gtk::SpinButton linewidth_spin2;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; altitude_adj;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; azimuth_adj;</div>
<div class="line">    Gtk::SpinButton altitude_spin;</div>
<div class="line">    Gtk::SpinButton azimuth_spin;</div>
<div class="line">    Gtk::Label altitude_label;</div>
<div class="line">    Gtk::Label azimuth_label;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window() :</div>
<div class="line">      label1(<span class="stringliteral">&quot;Plot 1&quot;</span>), label2(<span class="stringliteral">&quot;Plot 2&quot;</span>),</div>
<div class="line">      linewidth_adj1(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      linewidth_adj2(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      linewidth_spin1(linewidth_adj1, 0.1, 1.0),</div>
<div class="line">      linewidth_spin2(linewidth_adj2, 0.1, 1.0),</div>
<div class="line">      altitude_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(45.0, 0, 90.0, 1.0, 5.0, 0.0)),</div>
<div class="line">      azimuth_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(45.0, 0, 360.0, 1.0, 5.0, 0.0)),</div>
<div class="line">      altitude_spin(altitude_adj, 0.1, 1.0),</div>
<div class="line">      azimuth_spin(azimuth_adj, 0.1, 1.0),</div>
<div class="line">      altitude_label(<span class="stringliteral">&quot;Altitude&quot;</span>),</div>
<div class="line">      azimuth_label(<span class="stringliteral">&quot;Azimuth&quot;</span>) {</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//generate our data</span></div>
<div class="line">      <span class="comment">//first a helix</span></div>
<div class="line">      std::valarray&lt;double&gt; x_va1 = cos(<a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(1000)*8.0*M_PI/999.0);</div>
<div class="line">      std::valarray&lt;double&gt; y_va1 = sin(<a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(1000)*8.0*M_PI/999.0);</div>
<div class="line">      std::valarray&lt;double&gt; z_va1 = <a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(1000)*10.0/999.0 - 5.0;</div>
<div class="line"> </div>
<div class="line">      <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data3_d.html">Gtk::PLplot::PlotData3D</a> *data1 = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data3_d.html">Gtk::PLplot::PlotData3D</a>(x_va1, y_va1, z_va1));</div>
<div class="line">      data1-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a4db9521f9ceccb3041fd7fc7b84360c4">set_name</a>(<span class="stringliteral">&quot;Helix&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//followed by a simple sine</span></div>
<div class="line">      std::valarray&lt;double&gt; x_va2 = <a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(1000)*6.0/999.0 - 3.0;</div>
<div class="line">      std::valarray&lt;double&gt; y_va2 = <a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(1000)*6.0/999.0 - 3.0;</div>
<div class="line">      std::valarray&lt;double&gt; z_va2 = cos(sqrt(x_va2*x_va2 + y_va2*y_va2));</div>
<div class="line"> </div>
<div class="line">      <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data3_d.html">Gtk::PLplot::PlotData3D</a> *data2 = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data3_d.html">Gtk::PLplot::PlotData3D</a>(x_va2, y_va2, z_va2, Gdk::RGBA(<span class="stringliteral">&quot;blue&quot;</span>), <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ace9488c705a112a307d8aa058a07688a">Gtk::PLplot::LineStyle::LONG_DASH_LONG_GAP</a>));</div>
<div class="line">      data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#a4db9521f9ceccb3041fd7fc7b84360c4">set_name</a>(<span class="stringliteral">&quot;Cosine&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot3_d.html">Gtk::PLplot::Plot3D</a> *plot = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot3_d.html">Gtk::PLplot::Plot3D</a>(*data1));</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#af635bd0a3d0719ada88e66c6173d2c9f">add_data</a>(*data2);</div>
<div class="line"> </div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#a8cab1c631568b34a0d6934798ba5771c">set_plot_title</a>(<span class="stringliteral">&quot;Plot3D demo&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot);</div>
<div class="line"> </div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 1024, height = 720;</div>
<div class="line">      set_default_size(width, height);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test9&quot;</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height), <span class="keyword">false</span>);</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line"> </div>
<div class="line">      show_radio1.set_active(data1-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#ae8c31f0622ebc189d43be0841767a468">is_showing</a>());</div>
<div class="line">      show_radio2.set_active(data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data.html#ae8c31f0622ebc189d43be0841767a468">is_showing</a>());</div>
<div class="line">      show_radio1.property_active().signal_changed().connect([<span class="keyword">this</span>, data1](){</div>
<div class="line">        <span class="keywordflow">if</span> (show_radio1.get_active()) {</div>
<div class="line">          data1-&gt;show();</div>
<div class="line">          color_combo1.set_sensitive(true);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">          data1-&gt;hide();</div>
<div class="line">          color_combo1.set_sensitive(false);</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line">      show_radio2.property_active().signal_changed().connect([<span class="keyword">this</span>, data2](){</div>
<div class="line">        <span class="keywordflow">if</span> (show_radio2.get_active()) {</div>
<div class="line">          data2-&gt;show();</div>
<div class="line">          color_combo2.set_sensitive(true);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> {</div>
<div class="line">          data2-&gt;hide();</div>
<div class="line">          color_combo2.set_sensitive(false);</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;continuous&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;long dash long gap&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;long dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;long dash short gap short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo1.append(<span class="stringliteral">&quot;long dash short gap long dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;continuous&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;long dash long gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;long dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;long dash short gap short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo2.append(<span class="stringliteral">&quot;long dash short gap long dash short gap&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      linewidth_spin1.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin2.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin1.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin2.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin1.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin2.set_numeric(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">      color_combo1.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      color_combo2.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      linewidth_spin1.set_halign(Gtk::Align::START);</div>
<div class="line">      linewidth_spin2.set_halign(Gtk::Align::START);</div>
<div class="line">      show_radio1.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      show_radio2.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label1.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      label2.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin1.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin2.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      linestyle_combo1.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      linestyle_combo2.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label1.set_halign(Gtk::Align::END);</div>
<div class="line">      label2.set_halign(Gtk::Align::END);</div>
<div class="line"> </div>
<div class="line">      grid.set_column_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      grid.set_column_spacing(5);</div>
<div class="line">      grid.set_row_spacing(5);</div>
<div class="line"> </div>
<div class="line">      color_combo1.set_rgba(data1-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a618d7d314b3e098d154ac8869b3e9336">get_color</a>());</div>
<div class="line">      color_combo2.set_rgba(data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a618d7d314b3e098d154ac8869b3e9336">get_color</a>());</div>
<div class="line"> </div>
<div class="line">      color_combo1.set_use_alpha(<span class="keyword">true</span>);</div>
<div class="line">      color_combo2.set_use_alpha(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">      linestyle_combo1.set_active(data1-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#abad9722e518e8139f0b39a95ef12da9f">get_line_style</a>()-1);</div>
<div class="line">      linestyle_combo2.set_active(data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#abad9722e518e8139f0b39a95ef12da9f">get_line_style</a>()-1);</div>
<div class="line"> </div>
<div class="line">      color_combo1.signal_color_set().connect([<span class="keyword">this</span>, data1](){data1-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a77d82e4db29cf9162f135ff81bf07726">set_color</a>(color_combo1.get_rgba());});</div>
<div class="line">      color_combo2.signal_color_set().connect([<span class="keyword">this</span>, data2](){data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a77d82e4db29cf9162f135ff81bf07726">set_color</a>(color_combo2.get_rgba());});</div>
<div class="line"> </div>
<div class="line">      linestyle_combo1.signal_changed().connect([<span class="keyword">this</span>, data1](){data1-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#ae274585d14aa7289898ac8686cc79ab4">set_line_style</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636">Gtk::PLplot::LineStyle</a><span class="keyword">&gt;</span>(linestyle_combo1.get_active_row_number()+1));});</div>
<div class="line">      linestyle_combo2.signal_changed().connect([<span class="keyword">this</span>, data2](){data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#ae274585d14aa7289898ac8686cc79ab4">set_line_style</a>(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636">Gtk::PLplot::LineStyle</a><span class="keyword">&gt;</span>(linestyle_combo2.get_active_row_number()+1));});</div>
<div class="line"> </div>
<div class="line">      linewidth_spin1.set_value(data1-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a4f86c7d7e19e77519d9e4b374dd5de9f">get_line_width</a>());</div>
<div class="line">      linewidth_spin2.set_value(data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#a4f86c7d7e19e77519d9e4b374dd5de9f">get_line_width</a>());</div>
<div class="line"> </div>
<div class="line">      linewidth_spin1.signal_value_changed().connect([<span class="keyword">this</span>, data1](){data1-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#ab746c452b98fa55d70438438f0cec053">set_line_width</a>(linewidth_spin1.get_value());});</div>
<div class="line">      linewidth_spin2.signal_value_changed().connect([<span class="keyword">this</span>, data2](){data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_line.html#ab746c452b98fa55d70438438f0cec053">set_line_width</a>(linewidth_spin2.get_value());});</div>
<div class="line"> </div>
<div class="line">      altitude_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      azimuth_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      altitude_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      azimuth_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      altitude_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      azimuth_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      altitude_label.set_halign(Gtk::Align::END);</div>
<div class="line">      azimuth_label.set_halign(Gtk::Align::END);</div>
<div class="line">      altitude_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      azimuth_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      altitude_label.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      azimuth_label.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      altitude_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      azimuth_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      altitude_spin.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      azimuth_spin.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      altitude_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      azimuth_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">      altitude_spin.set_value(plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#a15dc79d7cdc542fb4623d166a3b6427e">get_altitude</a>());</div>
<div class="line">      azimuth_spin.set_value(plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#a28d7ac1a1dab414fbc2a30d082bd3f50">get_azimuth</a>());</div>
<div class="line"> </div>
<div class="line">      altitude_spin.signal_value_changed().connect(</div>
<div class="line">        [<span class="keyword">this</span>, plot]() {</div>
<div class="line">          plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#af9220025fe5f17e096ae635e9c1fb309">set_altitude</a>(altitude_spin.get_value());</div>
<div class="line">        }</div>
<div class="line">      );</div>
<div class="line">      azimuth_spin.signal_value_changed().connect(</div>
<div class="line">        [<span class="keyword">this</span>, plot]() {</div>
<div class="line">          plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#ab44aa3aa775cce1973421120f1295851">set_azimuth</a>(azimuth_spin.get_value());</div>
<div class="line">        }</div>
<div class="line">      );</div>
<div class="line"> </div>
<div class="line">      grid.attach(label1, 0, 0, 1, 1);</div>
<div class="line">      grid.attach(show_radio1, 1, 0, 1, 1);</div>
<div class="line">      grid.attach(color_combo1, 2, 0, 1, 1);</div>
<div class="line">      grid.attach(linestyle_combo1, 3, 0, 1, 1);</div>
<div class="line">      grid.attach(linewidth_spin1, 4, 0, 1, 1);</div>
<div class="line">      grid.attach(label2, 0, 1, 1, 1);</div>
<div class="line">      grid.attach(show_radio2, 1, 1, 1, 1);</div>
<div class="line">      grid.attach(color_combo2, 2, 1, 1, 1);</div>
<div class="line">      grid.attach(linestyle_combo2, 3, 1, 1, 1);</div>
<div class="line">      grid.attach(linewidth_spin2, 4, 1, 1, 1);</div>
<div class="line">      grid.attach(geometry, 0, 2, 5, 1);</div>
<div class="line">      grid.attach(altitude_label, 0, 3, 3, 1);</div>
<div class="line">      grid.attach(altitude_spin, 3, 3, 2, 1);</div>
<div class="line">      grid.attach(azimuth_label, 0, 4, 3, 1);</div>
<div class="line">      grid.attach(azimuth_spin, 3, 4, 2, 1);</div>
<div class="line"> </div>
<div class="line">      grid.set_margin(10);</div>
<div class="line">      set_child(grid);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test9&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test9&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test9::Window&gt;(argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot3_d_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot3_d.html">Gtk::PLplot::Plot3D</a></div><div class="ttdoc">a class for three-dimensional plots</div><div class="ttdef"><b>Definition</b> plot3d.h:39</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot3_d_html_a15dc79d7cdc542fb4623d166a3b6427e"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#a15dc79d7cdc542fb4623d166a3b6427e">Gtk::PLplot::Plot3D::get_altitude</a></div><div class="ttdeci">double get_altitude()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot3_d_html_a28d7ac1a1dab414fbc2a30d082bd3f50"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#a28d7ac1a1dab414fbc2a30d082bd3f50">Gtk::PLplot::Plot3D::get_azimuth</a></div><div class="ttdeci">double get_azimuth()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot3_d_html_ab44aa3aa775cce1973421120f1295851"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#ab44aa3aa775cce1973421120f1295851">Gtk::PLplot::Plot3D::set_azimuth</a></div><div class="ttdeci">void set_azimuth(double azimuth)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot3_d_html_af635bd0a3d0719ada88e66c6173d2c9f"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#af635bd0a3d0719ada88e66c6173d2c9f">Gtk::PLplot::Plot3D::add_data</a></div><div class="ttdeci">virtual void add_data(PlotData3D &amp;data)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot3_d_html_af9220025fe5f17e096ae635e9c1fb309"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot3_d.html#af9220025fe5f17e096ae635e9c1fb309">Gtk::PLplot::Plot3D::set_altitude</a></div><div class="ttdeci">void set_altitude(double altitude)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data3_d_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data3_d.html">Gtk::PLplot::PlotData3D</a></div><div class="ttdoc">a class that will hold a single dataset and its properties for a Plot3D plot</div><div class="ttdef"><b>Definition</b> plotdata3d.h:38</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_html_a8cab1c631568b34a0d6934798ba5771c"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot.html#a8cab1c631568b34a0d6934798ba5771c">Gtk::PLplot::Plot::set_plot_title</a></div><div class="ttdeci">void set_plot_title(Glib::ustring title)</div></div>
</div><!-- fragment --> <div class="image">
<img src="test9.png" alt=""/>
<div class="caption">
Example 9</div></div>
 <h1><a class="anchor" id="example10"></a>
Example 10: use Gtkmm-PLplot from Gtk+</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2016 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* This examples demonstrates how to use Gtkmm-PLplot from Gtk */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/init.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef M_PI</span></div>
<div class="line"><span class="preprocessor">#define M_PI (3.14159265358979323846)</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> activate (GtkApplication* app, gpointer user_data) {</div>
<div class="line">  Glib::ustring x_title = <span class="stringliteral">&quot;X-axis&quot;</span>;</div>
<div class="line">  Glib::ustring y_title = <span class="stringliteral">&quot;Y-axis&quot;</span>;</div>
<div class="line">  Glib::ustring plot_title = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">  Gdk::RGBA color = Gdk::RGBA(<span class="stringliteral">&quot;red&quot;</span>);</div>
<div class="line">  std::valarray&lt;double&gt; x_va(1000), y_va(1000);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0 ; i &lt; 1000 ; i++) {</div>
<div class="line">    x_va[i] = 8*M_PI*i/999;</div>
<div class="line">  }</div>
<div class="line">  y_va = 2*cos(x_va)-1;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Gtk::manage even seems to work when the canvas is added to a GTK+ container,</span></div>
<div class="line">  <span class="comment">// instead of Gtkmm::Container!!!</span></div>
<div class="line">  <span class="comment">// This means we will not have to manually free canvas ourselves, which is</span></div>
<div class="line">  <span class="comment">// really cool!</span></div>
<div class="line">  <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> *canvas = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a>(</div>
<div class="line">    *Gtk::manage(</div>
<div class="line">      <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a>(</div>
<div class="line">        *Gtk::manage(</div>
<div class="line">          <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(</div>
<div class="line">            x_va,</div>
<div class="line">            y_va,</div>
<div class="line">            color</div>
<div class="line">          )</div>
<div class="line">        ),</div>
<div class="line">        x_title,</div>
<div class="line">        y_title,</div>
<div class="line">        plot_title</div>
<div class="line">      )</div>
<div class="line">    )</div>
<div class="line">  ));</div>
<div class="line"> </div>
<div class="line">  GtkWidget *window = gtk_application_window_new(app);</div>
<div class="line">  gtk_window_set_title (GTK_WINDOW (window), <span class="stringliteral">&quot;Gtkmm-PLplot test10&quot;</span>);</div>
<div class="line">  gtk_window_set_default_size (GTK_WINDOW (window), 720, 580);</div>
<div class="line">  <span class="comment">// print the type name</span></div>
<div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Type:&quot;</span> &lt;&lt; g_type_name(G_OBJECT_TYPE(canvas-&gt;gobj())) &lt;&lt; std::endl;</div>
<div class="line">  <span class="comment">// this next line is where the magic happens</span></div>
<div class="line">  gtk_window_set_child (GTK_WINDOW (window), GTK_WIDGET(canvas-&gt;gobj()));</div>
<div class="line">  gtk_widget_show(window);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  GtkApplication *app;</div>
<div class="line">  <span class="keywordtype">int</span> status;</div>
<div class="line"> </div>
<div class="line">  app = gtk_application_new (<span class="stringliteral">&quot;org.gtk.example&quot;</span>, G_APPLICATION_FLAGS_NONE);</div>
<div class="line">  <span class="comment">// this next line is necessary to ensure that the gtkmm internals are initialized</span></div>
<div class="line">  Gtk::init_gtkmm_internals();</div>
<div class="line">  g_signal_connect (app, <span class="stringliteral">&quot;activate&quot;</span>, G_CALLBACK (activate), NULL);</div>
<div class="line">  status = g_application_run (G_APPLICATION (app), argc, argv);</div>
<div class="line">  g_object_unref (app);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
</div><!-- fragment --> <div class="image">
<img src="test10.png" alt=""/>
<div class="caption">
Example 10</div></div>
 <h1><a class="anchor" id="example11"></a>
Example 11: 2 dimensional plots with errorbars</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2016 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;valarray&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef M_PI</span></div>
<div class="line"><span class="preprocessor">#define M_PI (3.14159265358979323846)</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test11 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    std::valarray&lt;double&gt; x;</div>
<div class="line">    std::valarray&lt;double&gt; xmin;</div>
<div class="line">    std::valarray&lt;double&gt; xmax;</div>
<div class="line">    std::valarray&lt;double&gt; y;</div>
<div class="line">    std::valarray&lt;double&gt; ymin;</div>
<div class="line">    std::valarray&lt;double&gt; ymax;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a> plot_data_2d;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x.html">Gtk::PLplot::PlotData2DErrorX</a> plot_data_2d_error_x;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_y.html">Gtk::PLplot::PlotData2DErrorY</a> plot_data_2d_error_y;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x_y.html">Gtk::PLplot::PlotData2DErrorXY</a> plot_data_2d_error_xy;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> plot_2d;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> plot_2d_error_x;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> plot_2d_error_y;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> plot_2d_error_xy;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window() :</div>
<div class="line">        x(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::PLplot::indgen_va(40) * 2.0 * M_PI / 39.0),</div>
<div class="line">        xmin(x - 2.0 * M_PI / 80.0),</div>
<div class="line">        xmax(x + 2.0 * M_PI / 80.0),</div>
<div class="line">        y(sin(x)),</div>
<div class="line">        ymin(y - 0.1 - <a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::PLplot::indgen_va(40) / 39.0),</div>
<div class="line">        ymax(y + 0.1 + <a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::PLplot::indgen_va(40) / 39.0),</div>
<div class="line">        canvas(),</div>
<div class="line">        plot_data_2d(x, y),</div>
<div class="line">        plot_data_2d_error_x(x, y, xmin, xmax),</div>
<div class="line">        plot_data_2d_error_y(x, y, ymin, ymax),</div>
<div class="line">        plot_data_2d_error_xy(x, y, xmin, xmax, ymin, ymax),</div>
<div class="line">        plot_2d(plot_data_2d, <span class="stringliteral">&quot;X-axis&quot;</span>, <span class="stringliteral">&quot;Y-axis&quot;</span>, <span class="stringliteral">&quot;No errorbars&quot;</span>, 0.5, 0.5, 0.0, 0.0),</div>
<div class="line">        plot_2d_error_x(plot_data_2d_error_x, <span class="stringliteral">&quot;X-axis&quot;</span>, <span class="stringliteral">&quot;Y-axis&quot;</span>, <span class="stringliteral">&quot;X-data errorbars&quot;</span>, 0.5, 0.5, 0.5, 0.0),</div>
<div class="line">        plot_2d_error_y(plot_data_2d_error_y, <span class="stringliteral">&quot;X-axis&quot;</span>, <span class="stringliteral">&quot;Y-axis&quot;</span>, <span class="stringliteral">&quot;Y-data errorbars&quot;</span>, 0.5, 0.5, 0.0, 0.5),</div>
<div class="line">        plot_2d_error_xy(plot_data_2d_error_xy, <span class="stringliteral">&quot;X-axis&quot;</span>, <span class="stringliteral">&quot;Y-axis&quot;</span>, <span class="stringliteral">&quot;X- and Y-data errorbars&quot;</span>, 0.5, 0.5, 0.5, 0.5)</div>
<div class="line">    {</div>
<div class="line">      <span class="comment">// no need to show legends</span></div>
<div class="line">      plot_2d.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line">      plot_2d_error_x.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line">      plot_2d_error_y.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line">      plot_2d_error_xy.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// a some color</span></div>
<div class="line">      plot_data_2d_error_x.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x.html#ad544215b70156d012df1eebba411c4a4">set_error_x_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;blue&quot;</span>));</div>
<div class="line">      plot_data_2d_error_xy.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x.html#ad544215b70156d012df1eebba411c4a4">set_error_x_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;blue&quot;</span>));</div>
<div class="line">      plot_data_2d_error_y.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_y.html#aa9a7fbc4067a327210b1812c20e2befd">set_error_y_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;green&quot;</span>));</div>
<div class="line">      plot_data_2d_error_xy.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_y.html#aa9a7fbc4067a327210b1812c20e2befd">set_error_y_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;green&quot;</span>));</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// add all plots to the canvas</span></div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(plot_2d);</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(plot_2d_error_x);</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(plot_2d_error_y);</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(plot_2d_error_xy);</div>
<div class="line"> </div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 1024, height = 825;</div>
<div class="line">      set_default_size(width, height);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test11&quot;</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height), <span class="keyword">false</span>);</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line">      </div>
<div class="line">      geometry.set_margin(10);</div>
<div class="line">      set_child(geometry);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test11&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test11&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test11::Window&gt;(argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x.html">Gtk::PLplot::PlotData2DErrorX</a></div><div class="ttdoc">a class that will hold a single XY dataset with X errorbars and its properties for a Plot2D plot</div><div class="ttdef"><b>Definition</b> plotdata2derrorx.h:38</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x_html_ad544215b70156d012df1eebba411c4a4"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x.html#ad544215b70156d012df1eebba411c4a4">Gtk::PLplot::PlotData2DErrorX::set_error_x_color</a></div><div class="ttdeci">void set_error_x_color(Gdk::RGBA color)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x_y_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_x_y.html">Gtk::PLplot::PlotData2DErrorXY</a></div><div class="ttdoc">a class that will hold a single XY dataset with X and Y errorbars and its properties for a Plot2D plo...</div><div class="ttdef"><b>Definition</b> plotdata2derrorxy.h:39</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data2_d_error_y_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_y.html">Gtk::PLplot::PlotData2DErrorY</a></div><div class="ttdoc">a class that will hold a single XY dataset with Y errorbars and its properties for a Plot2D plot</div><div class="ttdef"><b>Definition</b> plotdata2derrory.h:38</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data2_d_error_y_html_aa9a7fbc4067a327210b1812c20e2befd"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data2_d_error_y.html#aa9a7fbc4067a327210b1812c20e2befd">Gtk::PLplot::PlotData2DErrorY::set_error_y_color</a></div><div class="ttdeci">void set_error_y_color(Gdk::RGBA color)</div></div>
</div><!-- fragment --> <div class="image">
<img src="test11.png" alt=""/>
<div class="caption">
Example 11</div></div>
 <h1><a class="anchor" id="example12"></a>
Example 12: Histograms</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2017 Tom Schoonjans</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/switch.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/spinbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/colorbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/label.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/comboboxtext.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/notebook.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;random&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef M_PI</span></div>
<div class="line"><span class="preprocessor">#define M_PI (3.14159265358979323846)</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test12 {</div>
<div class="line">  <span class="keyword">class </span>HistogramTab : <span class="keyword">public</span> Gtk::Grid {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    Gtk::Label line_label;</div>
<div class="line">    Gtk::ComboBoxText linestyle_combo;</div>
<div class="line">    Gtk::ColorButton line_color;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; linewidth_adj;</div>
<div class="line">    Gtk::SpinButton linewidth_spin;</div>
<div class="line">    Gtk::Switch expand_bins;</div>
<div class="line">    Gtk::Switch empty_bins;</div>
<div class="line">    HistogramTab() = <span class="keyword">delete</span>;</div>
<div class="line">  <span class="keyword">protected</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html">Gtk::PLplot::PlotDataHistogram</a> *histogram_data;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    HistogramTab(<a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html">Gtk::PLplot::PlotDataHistogram</a> *_histogram_data, Glib::ustring x_title, Glib::ustring y_title, Glib::ustring plot_title) :</div>
<div class="line">      line_label(<span class="stringliteral">&quot;Histogram&quot;</span>),</div>
<div class="line">      linewidth_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(1.0, 0.1, 10.0, 0.1, 1.0, 0.0)),</div>
<div class="line">      linewidth_spin(linewidth_adj, 0.1, 1.0),</div>
<div class="line">      canvas(*<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::manage(new <a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::PLplot::PlotHistogram(*_histogram_data, x_title, y_title, plot_title))),</div>
<div class="line">      histogram_data(_histogram_data)</div>
<div class="line">    {</div>
<div class="line">      set_column_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      set_column_spacing(5);</div>
<div class="line">      set_row_homogeneous(<span class="keyword">false</span>);</div>
<div class="line">      set_row_spacing(5);</div>
<div class="line">      set_margin(10);</div>
<div class="line"> </div>
<div class="line">      line_label.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      line_label.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      line_label.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      line_label.set_halign(Gtk::Align::END);</div>
<div class="line"> </div>
<div class="line">      attach(line_label, 0, 0, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the color buttons</span></div>
<div class="line">      <span class="keyword">auto</span> plot_data = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html">Gtk::PLplot::PlotDataHistogram</a>*<span class="keyword">&gt;</span>(canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#ae7997faf58346122fb2f47c2ea7eb16c">get_plot</a>(0)-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot.html#ad2dfeb8c523d76ad35ad6ff83a803207">get_data</a>(0));</div>
<div class="line">      line_color.set_rgba(plot_data-&gt;get_color());</div>
<div class="line">      line_color.set_use_alpha(<span class="keyword">true</span>);</div>
<div class="line">      line_color.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      line_color.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      line_color.set_halign(Gtk::Align::FILL);</div>
<div class="line">      line_color.set_valign(Gtk::Align::CENTER);</div>
<div class="line"> </div>
<div class="line">      line_color.signal_color_set().connect([<span class="keyword">this</span>, plot_data](){plot_data-&gt;set_color(line_color.get_rgba());});</div>
<div class="line"> </div>
<div class="line">      attach(line_color, 1, 0, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//the linestyle comboboxtext</span></div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;none&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;continuous&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;long dash long gap&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;long dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;long dash short gap short dash short gap&quot;</span>);</div>
<div class="line">      linestyle_combo.append(<span class="stringliteral">&quot;long dash short gap long dash short gap&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      linestyle_combo.set_active(plot_data-&gt;get_line_style());</div>
<div class="line">      linestyle_combo.signal_changed().connect([<span class="keyword">this</span>, plot_data](){plot_data-&gt;set_line_style(<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636">Gtk::PLplot::LineStyle</a><span class="keyword">&gt;</span>(linestyle_combo.get_active_row_number()));});</div>
<div class="line"> </div>
<div class="line">      linestyle_combo.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      linestyle_combo.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      linestyle_combo.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      linestyle_combo.set_valign(Gtk::Align::CENTER);</div>
<div class="line"> </div>
<div class="line">      attach(linestyle_combo, 2, 0, 1, 1);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//our spinbuttons, first one for the line thickness, second for symbol size</span></div>
<div class="line">      linewidth_spin.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      linewidth_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      linewidth_spin.set_valign(Gtk::Align::CENTER);</div>
<div class="line">      linewidth_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      linewidth_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">      linewidth_spin.set_value(plot_data-&gt;get_line_width());</div>
<div class="line"> </div>
<div class="line">      linewidth_spin.signal_value_changed().connect([<span class="keyword">this</span>, plot_data](){plot_data-&gt;set_line_width(linewidth_spin.get_value());});</div>
<div class="line"> </div>
<div class="line">      attach(linewidth_spin, 3, 0, 1, 1);</div>
<div class="line"> </div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a79647f00fc746bf7c1ff2dd00e0bb737">set_background_color</a>(Gdk::RGBA(<span class="stringliteral">&quot;LightGrey&quot;</span>));</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, 2, <span class="keyword">false</span>);</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line">      attach(geometry, 0, 1, 4, 1);</div>
<div class="line"> </div>
<div class="line">      Gtk::Label *label;</div>
<div class="line"> </div>
<div class="line">      label = Gtk::manage(<span class="keyword">new</span> Gtk::Label(<span class="stringliteral">&quot;Expand bins&quot;</span>));</div>
<div class="line">      label-&gt;set_halign(Gtk::Align::END);</div>
<div class="line">      label-&gt;set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      attach(*label, 0, 2, 1, 1);</div>
<div class="line">      expand_bins.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      expand_bins.set_halign(Gtk::Align::START);</div>
<div class="line">      attach(expand_bins, 1, 2, 1, 1);</div>
<div class="line">      label = Gtk::manage(<span class="keyword">new</span> Gtk::Label(<span class="stringliteral">&quot;Show empty bins&quot;</span>));</div>
<div class="line">      label-&gt;set_halign(Gtk::Align::END);</div>
<div class="line">      label-&gt;set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      attach(*label, 2, 2, 1, 1);</div>
<div class="line">      empty_bins.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      empty_bins.set_halign(Gtk::Align::START);</div>
<div class="line">      attach(empty_bins, 3, 2, 1, 1);</div>
<div class="line"> </div>
<div class="line">      expand_bins.set_active(histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#a6d5b0113afaaa4ba8ba288c83c43b647">get_expand_bins</a>());</div>
<div class="line">      expand_bins.property_active().signal_changed().connect([<span class="keyword">this</span>](){</div>
<div class="line">        histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#a2776f49783ba9e5bd4d87cd781f167ce">set_expand_bins</a>(expand_bins.get_active());</div>
<div class="line">      });</div>
<div class="line">      empty_bins.set_active(histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#aa6d844f75a968408a45bac193ee36f13">get_empty_bins</a>());</div>
<div class="line">      empty_bins.property_active().signal_changed().connect([<span class="keyword">this</span>](){</div>
<div class="line">        histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#a57e8ec6c6fe4c074f1ab7c125d1bf081">set_empty_bins</a>(empty_bins.get_active());</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">class </span>HistogramBinnedTab : <span class="keyword">public</span> HistogramTab {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    Gtk::Switch centred;</div>
<div class="line">    HistogramBinnedTab() = <span class="keyword">delete</span>;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    HistogramBinnedTab(<a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned.html">Gtk::PLplot::PlotDataHistogramBinned</a> *_histogram_data, Glib::ustring x_title, Glib::ustring y_title, Glib::ustring plot_title) :</div>
<div class="line">    HistogramTab(_histogram_data, x_title, y_title, plot_title) {</div>
<div class="line">      Gtk::Label *label;</div>
<div class="line"> </div>
<div class="line">      label = Gtk::manage(<span class="keyword">new</span> Gtk::Label(<span class="stringliteral">&quot;X-data is centred&quot;</span>));</div>
<div class="line">      label-&gt;set_halign(Gtk::Align::END);</div>
<div class="line">      label-&gt;set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label-&gt;set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      attach(*label, 0, 3, 1, 1);</div>
<div class="line"> </div>
<div class="line">      centred.set_halign(Gtk::Align::START);</div>
<div class="line">      centred.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      centred.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      centred.set_active(_histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned.html#ae8a8f766a33e775981c8869c17455139">get_centred</a>());</div>
<div class="line">      centred.property_active().signal_changed().connect([<span class="keyword">this</span>, _histogram_data](){</div>
<div class="line">        _histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned.html#a88fbb207996300333af383685465374e">set_centred</a>(centred.get_active());</div>
<div class="line">      });</div>
<div class="line">      attach(centred, 1, 3, 1, 1);</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">class </span>HistogramUnbinnedTab : <span class="keyword">public</span> HistogramTab {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">  <span class="comment">/*  Gtk::Button add_data_button; */</span></div>
<div class="line">    Gtk::Switch ignore_outliers;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; datmin_adj;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; datmax_adj;</div>
<div class="line">    Glib::RefPtr&lt;Gtk::Adjustment&gt; nbins_adj;</div>
<div class="line">    Gtk::SpinButton datmin_spin;</div>
<div class="line">    Gtk::SpinButton datmax_spin;</div>
<div class="line">    Gtk::SpinButton nbins_spin;</div>
<div class="line">    HistogramUnbinnedTab() = <span class="keyword">delete</span>;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    HistogramUnbinnedTab(<a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html">Gtk::PLplot::PlotDataHistogramUnbinned</a> *_histogram_data, Glib::ustring x_title, Glib::ustring y_title, Glib::ustring plot_title) :</div>
<div class="line">    HistogramTab(_histogram_data, x_title, y_title, plot_title),</div>
<div class="line">    datmin_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(_histogram_data-&gt;get_data_minimum(), _histogram_data-&gt;get_data_minimum(), _histogram_data-&gt;get_data_maximum() - 0.01, 0.1)),</div>
<div class="line">    datmax_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(_histogram_data-&gt;get_data_maximum(), _histogram_data-&gt;get_data_minimum() + 0.01, _histogram_data-&gt;get_data_maximum(), 0.1)),</div>
<div class="line">    nbins_adj(<a class="code hl_namespace" href="namespace_gtk.html">Gtk</a>::Adjustment::create(_histogram_data-&gt;get_nbins(), 3, 100, 1)),</div>
<div class="line">    datmin_spin(datmin_adj, 0.1, 1),</div>
<div class="line">    datmax_spin(datmax_adj, 0.1, 1),</div>
<div class="line">    nbins_spin(nbins_adj, 1, 0)</div>
<div class="line">    {</div>
<div class="line">      Gtk::Label *label;</div>
<div class="line"> </div>
<div class="line">      label = Gtk::manage(<span class="keyword">new</span> Gtk::Label(<span class="stringliteral">&quot;Ignore outliers&quot;</span>));</div>
<div class="line">      label-&gt;set_halign(Gtk::Align::END);</div>
<div class="line">      label-&gt;set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label-&gt;set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      attach(*label, 0, 3, 1, 1);</div>
<div class="line"> </div>
<div class="line">      ignore_outliers.set_halign(Gtk::Align::START);</div>
<div class="line">      ignore_outliers.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      ignore_outliers.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      ignore_outliers.set_active(_histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#aa62c93a4cfe8d24ec5032e0017947e8e">get_ignore_outliers</a>());</div>
<div class="line">      ignore_outliers.property_active().signal_changed().connect([<span class="keyword">this</span>, _histogram_data](){</div>
<div class="line">        _histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a5e0ae70603ee9ca4909a6f92af758f28">set_ignore_outliers</a>(ignore_outliers.get_active());</div>
<div class="line">      });</div>
<div class="line">      attach(ignore_outliers, 1, 3, 1, 1);</div>
<div class="line"> </div>
<div class="line">      label = Gtk::manage(<span class="keyword">new</span> Gtk::Label(<span class="stringliteral">&quot;Number of bins&quot;</span>));</div>
<div class="line">      label-&gt;set_halign(Gtk::Align::END);</div>
<div class="line">      label-&gt;set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label-&gt;set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      attach(*label, 2, 3, 1, 1);</div>
<div class="line"> </div>
<div class="line">      nbins_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      nbins_spin.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      nbins_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      nbins_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      nbins_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      nbins_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      nbins_spin.set_value(_histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#ad5244ac38e107603a045a8fbb044f503">get_nbins</a>());</div>
<div class="line">      nbins_spin.signal_value_changed().connect([<span class="keyword">this</span>, _histogram_data](){</div>
<div class="line">        _histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a1228474f2f9ce7d70efd16ef2cd09ae3">set_nbins</a>(nbins_spin.get_value());</div>
<div class="line">      });</div>
<div class="line">      attach(nbins_spin, 3, 3, 1, 1);</div>
<div class="line"> </div>
<div class="line">      label = Gtk::manage(<span class="keyword">new</span> Gtk::Label(<span class="stringliteral">&quot;Bin minimum&quot;</span>));</div>
<div class="line">      label-&gt;set_halign(Gtk::Align::END);</div>
<div class="line">      label-&gt;set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label-&gt;set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      attach(*label, 0, 4, 1, 1);</div>
<div class="line"> </div>
<div class="line">      datmin_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      datmin_spin.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      datmin_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      datmin_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      datmin_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      datmin_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      datmin_spin.set_value(_histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#ae31e78e4bc132ac70312ec7005335c21">get_data_minimum</a>());</div>
<div class="line">      datmin_spin.signal_value_changed().connect([<span class="keyword">this</span>, _histogram_data](){</div>
<div class="line">        <span class="keywordtype">double</span> value = datmin_spin.get_value();</div>
<div class="line">        _histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a43f7aacfbdbf1a966f895be821d2ac6c">set_data_minimum</a>(value);</div>
<div class="line">        <span class="keywordtype">double</span> old_min, old_max;</div>
<div class="line">        datmax_spin.get_range(old_min, old_max);</div>
<div class="line">        datmax_spin.set_range(value + 0.01, old_max);</div>
<div class="line">      });</div>
<div class="line">      attach(datmin_spin, 1, 4, 1, 1);</div>
<div class="line"> </div>
<div class="line">      label = Gtk::manage(<span class="keyword">new</span> Gtk::Label(<span class="stringliteral">&quot;Bin maximum&quot;</span>));</div>
<div class="line">      label-&gt;set_halign(Gtk::Align::END);</div>
<div class="line">      label-&gt;set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      label-&gt;set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      attach(*label, 2, 4, 1, 1);</div>
<div class="line"> </div>
<div class="line">      datmax_spin.set_halign(Gtk::Align::START);</div>
<div class="line">      datmax_spin.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      datmax_spin.set_vexpand(<span class="keyword">false</span>);</div>
<div class="line">      datmax_spin.set_wrap(<span class="keyword">true</span>);</div>
<div class="line">      datmax_spin.set_snap_to_ticks(<span class="keyword">true</span>);</div>
<div class="line">      datmax_spin.set_numeric(<span class="keyword">true</span>);</div>
<div class="line">      datmax_spin.set_value(_histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#a4e09474ff9d40035f12a51290096550f">get_data_maximum</a>());</div>
<div class="line">      datmax_spin.signal_value_changed().connect([<span class="keyword">this</span>, _histogram_data](){</div>
<div class="line">        <span class="keywordtype">double</span> value = datmax_spin.get_value();</div>
<div class="line">        _histogram_data-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a9780a9346593c14799134abddb702f12">set_data_maximum</a>(value);</div>
<div class="line">        <span class="keywordtype">double</span> old_min, old_max;</div>
<div class="line">        datmin_spin.get_range(old_min, old_max);</div>
<div class="line">        datmin_spin.set_range(old_min, value - 0.01);</div>
<div class="line">      });</div>
<div class="line">      attach(datmax_spin, 3, 4, 1, 1);</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">class </span>HistogramUnbinnedWithAddButtonTab : <span class="keyword">public</span> HistogramUnbinnedTab {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    Gtk::Button add_data_button;</div>
<div class="line">    HistogramUnbinnedWithAddButtonTab() = <span class="keyword">delete</span>;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    HistogramUnbinnedWithAddButtonTab(<a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html">Gtk::PLplot::PlotDataHistogramUnbinned</a> *_histogram_data, Glib::ustring x_title, Glib::ustring y_title, Glib::ustring plot_title, std::function&lt;<span class="keywordtype">void</span>()&gt; add_data_function) :</div>
<div class="line">    HistogramUnbinnedTab(_histogram_data, x_title, y_title, plot_title),</div>
<div class="line">    add_data_button(<span class="stringliteral">&quot;Add 10 data points&quot;</span>) {</div>
<div class="line">      add_data_button.set_hexpand(<span class="keyword">false</span>);</div>
<div class="line">      add_data_button.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      add_data_button.signal_clicked().connect(add_data_function);</div>
<div class="line"> </div>
<div class="line">      attach(add_data_button, 0, 5, 4, 1);</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    Gtk::Notebook notebook;</div>
<div class="line">    std::mt19937 gen;</div>
<div class="line">    std::normal_distribution&lt;&gt; d;</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window() : notebook(), gen(1234), d(0, 1){</div>
<div class="line">      <span class="comment">// general window and canvas settings</span></div>
<div class="line">      set_default_size(1024, 800);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test12&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      <span class="comment">//add pages to notebook</span></div>
<div class="line">      <span class="comment">// page1 -&gt; PLplot example</span></div>
<div class="line">      std::valarray&lt;double&gt; data1 = sin(<a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(2047) * 2.0 * M_PI / 2047.0);</div>
<div class="line">      HistogramUnbinnedTab *tab1 =</div>
<div class="line">        Gtk::manage(</div>
<div class="line">          <span class="keyword">new</span> HistogramUnbinnedTab(</div>
<div class="line">            Gtk::manage(</div>
<div class="line">              <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html">Gtk::PLplot::PlotDataHistogramUnbinned</a>(</div>
<div class="line">                data1, -1.1, 1.1, 44</div>
<div class="line">              )</div>
<div class="line">            ),</div>
<div class="line">            <span class="stringliteral">&quot;#frValue&quot;</span>, <span class="comment">// #fr triggers Roman font...</span></div>
<div class="line">            <span class="stringliteral">&quot;#frFrequency&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;#frPLplot Example 5 - Probability function of Oscillator&quot;</span></div>
<div class="line">          )</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// page2: Gaussian distribution</span></div>
<div class="line">      std::vector&lt;double&gt; data2;</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0 ; i &lt; 100 ; i++)</div>
<div class="line">        data2.push_back(d(gen));</div>
<div class="line">      <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html">Gtk::PLplot::PlotDataHistogramUnbinned</a> *histogram_data2 = Gtk::manage(</div>
<div class="line">              <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html">Gtk::PLplot::PlotDataHistogramUnbinned</a>(</div>
<div class="line">                data2, -5.0, 5, 10</div>
<div class="line">              )</div>
<div class="line">            );</div>
<div class="line">      HistogramUnbinnedTab *tab2 =</div>
<div class="line">        Gtk::manage(</div>
<div class="line">          <span class="keyword">new</span> HistogramUnbinnedWithAddButtonTab(</div>
<div class="line">            histogram_data2,</div>
<div class="line">            <span class="stringliteral">&quot;Value&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Frequency&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Normal distribution&quot;</span>,</div>
<div class="line">            [histogram_data2, <span class="keyword">this</span>](){ <span class="comment">/* function that will be called whenever the add_data_button is clicked */</span></div>
<div class="line">              <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0 ; i &lt; 10 ; i++)</div>
<div class="line">                histogram_data2-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a7c1805880abf9a1c01fb3f1a065b4c45">add_datapoint</a>(d(gen));</div>
<div class="line">            }</div>
<div class="line">          )</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">      std::valarray&lt;double&gt; data3_x = <a class="code hl_function" href="namespace_gtk_1_1_p_lplot.html#a78f82db9b3d089b006439f97efad850c">Gtk::PLplot::indgen_va</a>(21) - 10.0;</div>
<div class="line">      std::valarray&lt;double&gt; data3_y = exp(-1.0 * data3_x * data3_x / 2.0) / sqrt(2.0 * M_PI);</div>
<div class="line">      <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned.html">Gtk::PLplot::PlotDataHistogramBinned</a> *histogram_data3 = Gtk::manage(</div>
<div class="line">              <span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned.html">Gtk::PLplot::PlotDataHistogramBinned</a>(</div>
<div class="line">                data3_x, data3_y</div>
<div class="line">              )</div>
<div class="line">            );</div>
<div class="line">      HistogramBinnedTab *tab3 =</div>
<div class="line">        Gtk::manage(</div>
<div class="line">          <span class="keyword">new</span> HistogramBinnedTab(</div>
<div class="line">            histogram_data3,</div>
<div class="line">            <span class="stringliteral">&quot;Value&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Frequency&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;Normal distribution&quot;</span></div>
<div class="line">          )</div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// append pages</span></div>
<div class="line">      notebook.append_page(*tab1, <span class="stringliteral">&quot;Histogram 1&quot;</span>);</div>
<div class="line">      notebook.append_page(*tab2, <span class="stringliteral">&quot;Histogram 2&quot;</span>);</div>
<div class="line">      notebook.append_page(*tab3, <span class="stringliteral">&quot;Histogram 3&quot;</span>);</div>
<div class="line">      notebook.set_margin(10);</div>
<div class="line">      set_child(notebook);</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test12&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test12&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test12::Window&gt;(argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned.html">Gtk::PLplot::PlotDataHistogramBinned</a></div><div class="ttdoc">a class that will hold a single binned histogram dataset and its properties for a PlotHistogram plot</div><div class="ttdef"><b>Definition</b> plotdatahistogrambinned.h:38</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned_html_a88fbb207996300333af383685465374e"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned.html#a88fbb207996300333af383685465374e">Gtk::PLplot::PlotDataHistogramBinned::set_centred</a></div><div class="ttdeci">void set_centred(bool centred)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned_html_ae8a8f766a33e775981c8869c17455139"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_binned.html#ae8a8f766a33e775981c8869c17455139">Gtk::PLplot::PlotDataHistogramBinned::get_centred</a></div><div class="ttdeci">bool get_centred()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html">Gtk::PLplot::PlotDataHistogram</a></div><div class="ttdoc">abstract base class that will hold a single dataset that can be rendered as a histogram</div><div class="ttdef"><b>Definition</b> plotdatahistogram.h:33</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_html_a2776f49783ba9e5bd4d87cd781f167ce"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#a2776f49783ba9e5bd4d87cd781f167ce">Gtk::PLplot::PlotDataHistogram::set_expand_bins</a></div><div class="ttdeci">void set_expand_bins(bool expand_bins)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_html_a4e09474ff9d40035f12a51290096550f"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#a4e09474ff9d40035f12a51290096550f">Gtk::PLplot::PlotDataHistogram::get_data_maximum</a></div><div class="ttdeci">double get_data_maximum()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_html_a57e8ec6c6fe4c074f1ab7c125d1bf081"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#a57e8ec6c6fe4c074f1ab7c125d1bf081">Gtk::PLplot::PlotDataHistogram::set_empty_bins</a></div><div class="ttdeci">void set_empty_bins(bool empty_bins)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_html_a6d5b0113afaaa4ba8ba288c83c43b647"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#a6d5b0113afaaa4ba8ba288c83c43b647">Gtk::PLplot::PlotDataHistogram::get_expand_bins</a></div><div class="ttdeci">bool get_expand_bins()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_html_aa6d844f75a968408a45bac193ee36f13"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#aa6d844f75a968408a45bac193ee36f13">Gtk::PLplot::PlotDataHistogram::get_empty_bins</a></div><div class="ttdeci">bool get_empty_bins()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_html_ad5244ac38e107603a045a8fbb044f503"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#ad5244ac38e107603a045a8fbb044f503">Gtk::PLplot::PlotDataHistogram::get_nbins</a></div><div class="ttdeci">int get_nbins()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_html_ae31e78e4bc132ac70312ec7005335c21"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram.html#ae31e78e4bc132ac70312ec7005335c21">Gtk::PLplot::PlotDataHistogram::get_data_minimum</a></div><div class="ttdeci">double get_data_minimum()</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned_html"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html">Gtk::PLplot::PlotDataHistogramUnbinned</a></div><div class="ttdoc">a class that will hold a single unbinned histogram dataset and its properties for a PlotHistogram plo...</div><div class="ttdef"><b>Definition</b> plotdatahistogramunbinned.h:38</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned_html_a1228474f2f9ce7d70efd16ef2cd09ae3"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a1228474f2f9ce7d70efd16ef2cd09ae3">Gtk::PLplot::PlotDataHistogramUnbinned::set_nbins</a></div><div class="ttdeci">void set_nbins(int nbins)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned_html_a43f7aacfbdbf1a966f895be821d2ac6c"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a43f7aacfbdbf1a966f895be821d2ac6c">Gtk::PLplot::PlotDataHistogramUnbinned::set_data_minimum</a></div><div class="ttdeci">void set_data_minimum(double datmin)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned_html_a5e0ae70603ee9ca4909a6f92af758f28"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a5e0ae70603ee9ca4909a6f92af758f28">Gtk::PLplot::PlotDataHistogramUnbinned::set_ignore_outliers</a></div><div class="ttdeci">void set_ignore_outliers(bool ignore_outliers)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned_html_a7c1805880abf9a1c01fb3f1a065b4c45"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a7c1805880abf9a1c01fb3f1a065b4c45">Gtk::PLplot::PlotDataHistogramUnbinned::add_datapoint</a></div><div class="ttdeci">virtual void add_datapoint(double value)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned_html_a9780a9346593c14799134abddb702f12"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#a9780a9346593c14799134abddb702f12">Gtk::PLplot::PlotDataHistogramUnbinned::set_data_maximum</a></div><div class="ttdeci">void set_data_maximum(double datmax)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned_html_aa62c93a4cfe8d24ec5032e0017947e8e"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot_data_histogram_unbinned.html#aa62c93a4cfe8d24ec5032e0017947e8e">Gtk::PLplot::PlotDataHistogramUnbinned::get_ignore_outliers</a></div><div class="ttdeci">bool get_ignore_outliers()</div></div>
</div><!-- fragment --> <div class="image">
<img src="test12.png" alt=""/>
<div class="caption">
Example 12</div></div>
 <h1><a class="anchor" id="example13"></a>
Example 13: Dates and times</h1>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">Copyright (C) 2018 Rémi BERTHO</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is free software: you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">it under the terms of the GNU Lesser General Public License as published by</span></div>
<div class="line"><span class="comment">the Free Software Foundation, either version 3 of the License, or</span></div>
<div class="line"><span class="comment">(at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">GNU Lesser General Public License for more details.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">You should have received a copy of the GNU Lesser General Public License</span></div>
<div class="line"><span class="comment">along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gtkmm-plplot_8h.html">gtkmm-plplot.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/application.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/aspectframe.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/miscutils.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/window.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/grid.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/box.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;gtkmm/checkbutton.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glibmm/date.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifndef M_PI</span></div>
<div class="line"><span class="preprocessor">#define M_PI (3.14159265358979323846)</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>Test13 {</div>
<div class="line">  <span class="keyword">class </span>Window : <span class="keyword">public</span> Gtk::Window {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_canvas.html">Gtk::PLplot::Canvas</a> canvas;</div>
<div class="line">    Gtk::Grid grid;</div>
<div class="line">    <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a> *plot = <span class="keyword">nullptr</span>;</div>
<div class="line">    Gtk::Box box;</div>
<div class="line">    Gtk::CheckButton button_1;</div>
<div class="line">    Gtk::CheckButton button_2;</div>
<div class="line">    Gtk::CheckButton button_3;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> add_plot_1() {</div>
<div class="line">      <span class="keywordflow">if</span> (!button_1.get_active())</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">  </div>
<div class="line">      <span class="keywordflow">if</span> (plot != <span class="keyword">nullptr</span>) {</div>
<div class="line">        canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#addae55b8f8bcbbe5f14f02f83f4b8ea7">remove_plot</a>(*plot);</div>
<div class="line">        plot = <span class="keyword">nullptr</span>;</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <span class="comment">// Data points every 10 minutes for 1 day</span></div>
<div class="line">      <span class="keywordtype">int</span> npts = 73;</div>
<div class="line">      std::valarray&lt;double&gt; x_va(npts), y_va(npts);</div>
<div class="line">      <span class="keywordtype">double</span> xmax = 60.0 * 60.0 * 24.0; <span class="comment">// Number of seconds in a day</span></div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0 ; i &lt; npts ; i++) {</div>
<div class="line">        x_va[i] = xmax * ( (double) i / (<span class="keywordtype">double</span>) npts );</div>
<div class="line">        y_va[i] = 15.0 - 5.0 * cos( 2 * M_PI * ( (<span class="keywordtype">double</span>) i / (<span class="keywordtype">double</span>) npts ) );</div>
<div class="line">      }</div>
<div class="line">      <span class="keyword">auto</span> plot_data = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(x_va, y_va, Gdk::RGBA(<span class="stringliteral">&quot;blue&quot;</span>), <a class="code hl_enumvalue" href="namespace_gtk_1_1_p_lplot.html#af906a181e6250225210ce29c07f58636ace9488c705a112a307d8aa058a07688a">Gtk::PLplot::LineStyle::LONG_DASH_LONG_GAP</a>, 5.0));</div>
<div class="line">      plot = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a>(*plot_data));</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#ae5fbd35b617df9ea92a7ecdbee7bd411">set_axis_time_format_x</a>(<span class="stringliteral">&quot;%H:%M&quot;</span>);</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot);</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> add_plot_2() {</div>
<div class="line">      <span class="keywordflow">if</span> (!button_2.get_active())</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">if</span> (plot != <span class="keyword">nullptr</span>){</div>
<div class="line">        canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#addae55b8f8bcbbe5f14f02f83f4b8ea7">remove_plot</a>(*plot);</div>
<div class="line">        plot = <span class="keyword">nullptr</span>;</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <span class="keywordtype">int</span> npts = 365;</div>
<div class="line">      std::valarray&lt;double&gt; y_va(npts);</div>
<div class="line">      std::valarray&lt;double&gt; x_va(npts);</div>
<div class="line">      Glib::DateTime first_date = Glib::DateTime::create_local(2010, 1,1,0,0,0);</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0 ; i &lt; npts ; i++) {</div>
<div class="line">        x_va[i] = first_date.add_days(i).to_unix();</div>
<div class="line">        y_va[i] = 15.0 - 5.0 * cos( 2 * M_PI * ( (<span class="keywordtype">double</span>) i / (<span class="keywordtype">double</span>) (npts/12) ) );</div>
<div class="line">      }</div>
<div class="line">      <span class="keyword">auto</span> plot_data = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(x_va, y_va));</div>
<div class="line">      plot = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a>(*plot_data));</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#ae5fbd35b617df9ea92a7ecdbee7bd411">set_axis_time_format_x</a>(<span class="stringliteral">&quot;%D&quot;</span>);</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot);</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> add_plot_3() {</div>
<div class="line">      <span class="keywordflow">if</span> (!button_3.get_active())</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">if</span> (plot != <span class="keyword">nullptr</span>){</div>
<div class="line">        canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#addae55b8f8bcbbe5f14f02f83f4b8ea7">remove_plot</a>(*plot);</div>
<div class="line">        plot = <span class="keyword">nullptr</span>;</div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">      <span class="keywordtype">int</span> npts = 2018;</div>
<div class="line">      std::valarray&lt;double&gt; y_va(npts);</div>
<div class="line">      std::valarray&lt;double&gt; x_va(npts);</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0 ; i &lt; npts ; i++) {</div>
<div class="line">        x_va[i] = i;</div>
<div class="line">        y_va[i] = 15.0 - 5.0 * cos( 2 * M_PI * ( (<span class="keywordtype">double</span>) i / (<span class="keywordtype">double</span>) (npts/10) ) );</div>
<div class="line">      }</div>
<div class="line">      <span class="keyword">auto</span> plot_data = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot_data2_d.html">Gtk::PLplot::PlotData2D</a>(x_va, y_va));</div>
<div class="line">      plot = Gtk::manage(<span class="keyword">new</span> <a class="code hl_class" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html">Gtk::PLplot::Plot2D</a>(*plot_data));</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#ae5fbd35b617df9ea92a7ecdbee7bd411">set_axis_time_format_x</a>(<span class="stringliteral">&quot;%Y&quot;</span>);</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a5196ec9c1afe18cdcdb3f3b2ca95f4d1">config_time_x</a>(365.25, Glib::DateTime::create_local(1, 1,1,0,0,0));</div>
<div class="line">      canvas.<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_canvas.html#a18c3d3255ed0ceae0e5892281aa652cd">add_plot</a>(*plot);</div>
<div class="line">      plot-&gt;<a class="code hl_function" href="class_gtk_1_1_p_lplot_1_1_legend.html#a4e880097956703fa3cbbfa03819d81a9">hide_legend</a>();</div>
<div class="line">    }</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    Window() : canvas() {</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">int</span> width = 720, height = 580;</div>
<div class="line">      set_default_size(width, height);</div>
<div class="line">      set_title(<span class="stringliteral">&quot;Gtkmm-PLplot test13&quot;</span>);</div>
<div class="line">      canvas.set_hexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_vexpand(<span class="keyword">true</span>);</div>
<div class="line">      canvas.set_focusable(<span class="keyword">true</span>);</div>
<div class="line">      Gtk::AspectFrame geometry(Gtk::Align::CENTER, Gtk::Align::CENTER, <span class="keywordtype">float</span>(width)/<span class="keywordtype">float</span>(height), <span class="keyword">false</span>);</div>
<div class="line">      geometry.set_child(canvas);</div>
<div class="line"> </div>
<div class="line">      box.set_homogeneous ();</div>
<div class="line">      box.set_halign(Gtk::Align::CENTER);</div>
<div class="line">      box.get_style_context()-&gt;add_class(<span class="stringliteral">&quot;linked&quot;</span>);</div>
<div class="line"> </div>
<div class="line">      button_1.set_label(<span class="stringliteral">&quot;Test 1&quot;</span>);</div>
<div class="line">      button_1.signal_toggled().connect(sigc::mem_fun(*<span class="keyword">this</span>, &amp;Window::add_plot_1));</div>
<div class="line"> </div>
<div class="line">      button_2.set_label(<span class="stringliteral">&quot;Test 2&quot;</span>);</div>
<div class="line">      button_2.set_group(button_1);</div>
<div class="line">      button_2.signal_toggled().connect(sigc::mem_fun(*<span class="keyword">this</span>, &amp;Window::add_plot_2));</div>
<div class="line"> </div>
<div class="line">      button_3.set_label(<span class="stringliteral">&quot;Test 3&quot;</span>);</div>
<div class="line">      button_3.set_group(button_1);</div>
<div class="line">      button_3.signal_toggled().connect(sigc::mem_fun(*<span class="keyword">this</span>, &amp;Window::add_plot_3));</div>
<div class="line"> </div>
<div class="line">      box.append(button_1);</div>
<div class="line">      box.append(button_2);</div>
<div class="line">      box.append(button_3);</div>
<div class="line"> </div>
<div class="line">      button_1.set_active(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">      grid.attach(box, 0, 0, 1, 1);</div>
<div class="line"> </div>
<div class="line">      grid.attach(geometry, 0, 1, 1, 1);</div>
<div class="line">      grid.set_row_spacing(5);</div>
<div class="line">      grid.set_column_spacing(5);</div>
<div class="line">      grid.set_column_homogeneous(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line">      grid.set_margin(10);</div>
<div class="line">      set_child(grid);</div>
<div class="line">    }</div>
<div class="line">    <span class="keyword">virtual</span> ~Window() {}</div>
<div class="line">  };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]) {</div>
<div class="line">  Glib::set_application_name(<span class="stringliteral">&quot;gtkmm-plplot-test13&quot;</span>);</div>
<div class="line">  Glib::RefPtr&lt;Gtk::Application&gt; app = Gtk::Application::create(<span class="stringliteral">&quot;eu.tomschoonjans.gtkmm-plplot-test13&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> app-&gt;make_window_and_run&lt;Test13::Window&gt;(argc, argv);</div>
<div class="line">}</div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html_a5196ec9c1afe18cdcdb3f3b2ca95f4d1"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#a5196ec9c1afe18cdcdb3f3b2ca95f4d1">Gtk::PLplot::Plot2D::config_time_x</a></div><div class="ttdeci">void config_time_x(double scale, const Glib::DateTime &amp;time)</div></div>
<div class="ttc" id="aclass_gtk_1_1_p_lplot_1_1_plot2_d_html_ae5fbd35b617df9ea92a7ecdbee7bd411"><div class="ttname"><a href="class_gtk_1_1_p_lplot_1_1_plot2_d.html#ae5fbd35b617df9ea92a7ecdbee7bd411">Gtk::PLplot::Plot2D::set_axis_time_format_x</a></div><div class="ttdeci">void set_axis_time_format_x(Glib::ustring time_format)</div></div>
</div><!-- fragment --> <div class="image">
<img src="test13.png" alt=""/>
<div class="caption">
Example 13</div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 7 2023 13:22:09 for Gtkmm-PLplot by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
